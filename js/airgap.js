// Copyright 2024 Transcend Inc. All Rights Reserved.
// Learn more at https://transcend.io/consent-management

self.transcend=Object.assign({"country":"JP","countryRegion":"13"},self.transcend);self.transcend=Object.assign({readyQueue:[],ready(c){this.readyQueue.push(c)},showConsentManager(){this.ready((t)=>{t.showConsentManager()})}},self.transcend);self.airgap=Object.assign({readyQueue:[],ready(c){this.readyQueue.push(c)},purposes:{"useDefault":false,"types":{"Advertising":{"name":"Advertising","description":"Helps us and others serve ads relevant to you.","defaultConsent":"Auto","showInConsentManager":true,"configurable":true,"essential":false,"trackingType":"Advertising","optOutSignals":["DNT"]},"Analytics":{"name":"Analytics","description":"Help us learn how our site is used and how it performs.","defaultConsent":"Auto","showInConsentManager":true,"configurable":true,"essential":false,"trackingType":"Analytics","optOutSignals":["DNT"]},"Functional":{"name":"Functional","description":"Personalization, autofilled forms, etc.","defaultConsent":"Auto","showInConsentManager":true,"configurable":true,"essential":false,"trackingType":"Functional","optOutSignals":["DNT"]},"SaleOfInfo":{"name":"SaleOfInfo","description":"Sale of personal information.","defaultConsent":"Auto","showInConsentManager":true,"configurable":true,"essential":false,"trackingType":"SaleOfInfo","optOutSignals":["DNT","GPC"]}}},regimePurposeScopes:[[["GDPR"],["Advertising","Analytics","Functional","SaleOfInfo"]],[["LGPD"],["Advertising","Analytics","Functional","SaleOfInfo"]],[["nFADP"],["Advertising","Analytics","Functional","SaleOfInfo"]]],macroregions:[["EU","BE GR LT PT BG ES LU RO CZ FR RE GP MQ GF YT BL MF PM WF PF NC HU SI DK FO GL HR MT SK DE IT NL AW CW SX FI AX EE CY AT SE IE LV PL AI BM IO VG KY FK GI MS PN SH TC GG JE IM"]],regionRegimesMap:[[[["EU"],["GB"],["NO"],["IS"],["LI"]],["GDPR"],"in",["bg-BG","hr-HR","cs-CZ","da-DK","nl-BE","nl-NL","en-IE","et-EE","fi-FI","fr-BE","fr-FR","fr-LU","de-AT","de-DE","de-LI","de-LU","el-GR","hu-HU","is-IS","ga-IE","it-IT","lv-LV","lt-LT","mt-MT","no-NO","nb-NO","nn-NO","pl-PL","pt-PT","ro-RO","sk-SK","sl-SI","es-ES","sv-FI","sv-FI","sv-SE"],[],null,null,{"consentExpiry":"518400","onConsentExpiry":"ResetOptIns"}],[[["BR"]],["LGPD"],"in",["pt-BR"],[],null,null,{}],[[["CH"]],["nFADP"],"in",["de-CH","fr-CH","it-CH","en-CH","pt-CH","gsw-CH"],[],null,null,{}]],regimePurposeOptOuts:[[["GDPR"],["Advertising","Analytics","Functional","SaleOfInfo"]],[["LGPD"],["Advertising","Analytics","Functional","SaleOfInfo"]],[["nFADP"],["Advertising","Analytics","Functional","SaleOfInfo"]]],regulatedPaths:[],purposeMap:{},cookies:[],ui:"/cm/731bebda-5984-48ea-b164-b3620d5197ce/ui.js",xdi:"/cm/731bebda-5984-48ea-b164-b3620d5197ce/xdi.js",metadata:"/cm/731bebda-5984-48ea-b164-b3620d5197ce/metadata.json",id:"731bebda-5984-48ea-b164-b3620d5197ce"},self.airgap);self.airgap.loadOptions=Object.assign({"csp":"off","log":"warn error","telemetry":"on","backendSync":"off","backendSyncEndpoint":"https://consent.us.transcend.io/sync","unknownRequestPolicy":"allow","prompt":"0","privacyPolicy":"https://lifemd-com.us.trsnd.co","regimePrecedence":"GDPR;LGPD;nFADP;Unknown","consentManagerConfig":{"privacyPolicy":"https://lifemd-com.us.trsnd.co","theme":{"primaryColor":"#3333FF","fontColor":"#010101"},"initialViewStateByPrivacyRegime":{"GDPR":"QuickOptions","LGPD":"QuickOptions","nFADP":"QuickOptions","Unknown":"Hidden"}},"css":"https://transcend-cdn.com/cm/731bebda-5984-48ea-b164-b3620d5197ce/cm.css","messages":"https://transcend-cdn.com/cm/731bebda-5984-48ea-b164-b3620d5197ce/translations","reportOnly":"on","iab":"off"},self.airgap.loadOptions);(()=>{const allowedHosts=["sync.transcend.io","lifemd.com","cdn.transcend.io","transcend-cdn.com"];const telemetryEndpoint="https://telemetry.us.transcend.io/collect";(()=>{
"use strict";var uP=Object.create;var Wp=Object.defineProperty,mP=Object.defineProperties,dP=Object.getOwnPropertyDescriptor,fP=Object.getOwnPropertyDescriptors,gP=Object.getOwnPropertyNames,gd=Object.getOwnPropertySymbols,yP=Object.getPrototypeOf,yd=Object.prototype.hasOwnProperty,EP=Object.prototype.propertyIsEnumerable;var Kp=(e,t,o)=>t in e?Wp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,_=(e,t)=>{for(var o in t||(t={}))yd.call(t,o)&&Kp(e,o,t[o]);if(gd)for(var o of gd(t))EP.call(t,o)&&Kp(e,o,t[o]);return e},xe=(e,t)=>mP(e,fP(t));var TP=(e,t,o,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of gP(t))!yd.call(e,n)&&n!==o&&Wp(e,n,{get:()=>t[n],enumerable:!(r=dP(t,n))||r.enumerable});return e};var Ed=(e,t,o)=>(o=e!=null?uP(yP(e)):{},TP(t||!e||!e.__esModule?Wp(o,"default",{value:e,enumerable:!0}):o,e));var q=(e,t,o)=>(Kp(e,typeof t!="symbol"?t+"":t,o),o),Td=(e,t,o)=>{if(!t.has(e))throw TypeError("Cannot "+o)};var Ie=(e,t,o)=>(Td(e,t,"read from private field"),o?o.call(e):t.get(e)),Ye=(e,t,o)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,o)},_e=(e,t,o,r)=>(Td(e,t,"write to private field"),r?r.call(e,o):t.set(e,o),o);var Jo="http://www.w3.org/1999/xhtml",Ad="http://www.w3.org/2000/svg",Ra=":~:",S="prototype",Js="src";var P=self,{Function:Zs,top:IC,document:ee}=P,I=!!ee,{call:Ia,apply:AP,bind:SP}=Zs[S],s=Ia.bind(Ia),U=Ia.bind(AP),Ca=Ia.bind(SP),{Symbol:wo,parent:Oa,location:Qr,navigator:er,String:Qp,XMLHttpRequest:kt,fetch:Gd,Request:Xp,Array:Zo,Blob:kn,Boolean:vC,Object:Ke,Error:we,ReferenceError:ei,TypeError:fo,Set:ye,WeakSet:wn,Map:Ft,WeakMap:ti,Promise:Ne,URL:ko,URLSearchParams:so,Event:hr,CustomEvent:jp,UIEvent:Jp,SubmitEvent:Fd,CookieChangeEvent:oi,CookieStore:Un,cookieStore:tr,SecurityPolicyViolationEvent:_a,Date:Gt,FormData:ri,ReadableStream:qd,Headers:Zp,console:Vd,Math:Pr,JSON:el,RegExp:Io,EventTarget:tl,MessagePort:RP,MessageChannel:CC,postMessage:Bd,history:PP,History:hP,AbortController:OC,setTimeout:qt,clearTimeout:Xr,setInterval:Hn,clearInterval:_C,requestIdleCallback:Gn=function(e,{timeout:t=0}={timeout:0}){return s(qt,this,e,t)},importScripts:ol,eval:NC,close:MC,TextEncoder:bn,encodeURIComponent:go,decodeURIComponent:Yd,unescape:Kd,Intl:rl,isNaN:IP,confirm:Wd,Response:zd,DOMParser:$d,Node:or,NodeList:nl,NodeFilter:vP,Attr:xC,NamedNodeMap:CP,XMLSerializer:sl,DOMException:Qd,MutationObserver:il,Number:OP,performance:uo,Performance:Sd,PerformanceObserver:Rd,PerformanceObserverEntryList:Pd,PerformanceEntry:LC,PerformanceResourceTiming:DC,Element:Fn,Document:vo,HTMLDocument:Xd,DocumentFragment:_P,DocumentType:NP,CharacterData:MP,HTMLElement:jd,HTMLScriptElement:Na,HTMLAnchorElement:al,HTMLIFrameElement:cl,HTMLFormElement:Ma,HTMLButtonElement:bC,HTMLInputElement:kC,HTMLImageElement:pl,HTMLMediaElement:Jd,HTMLCollection:xa,SVGElement:xP,SVGScriptElement:wC,SVGImageElement:UC,DOMTokenList:ll,Proxy:La,Reflect:va,Range:LP,ShadowRoot:hd,URLPattern:ni}=P,{includes:Zd,every:ef,some:tf,map:of,push:Da,pop:DP,shift:bP,unshift:kP,join:rf,slice:HC,splice:nf,find:sf,findIndex:af,filter:cf,flat:ba,flatMap:pf,reduce:ul,concat:lf,keys:wP,values:ml,entries:UP,slice:uf,indexOf:mf}=Zo[S],{add:df,has:ff,delete:gf,clear:yf,values:Ef,entries:GC,keys:FC,forEach:qC}=ye[S],{get:ka,set:Tf,has:Af,delete:Sf,clear:Rf,keys:HP,values:Pf,entries:hf}=Ft[S],{toString:VC}=OP[S],jr=e=>!IP(e),{then:Ir,catch:_t}=Ne[S],Uo=Ne.all.bind(Ne),If=Ne.resolve.bind(Ne),wa=va.ownKeys.bind(va),Ze=Ke.keys.bind(Ke),We=Ke.entries.bind(Ke),Pa,Ld,yo=((Ld=(Pa=Ke==null?void 0:Ke.fromEntries)==null?void 0:Pa.bind)==null?void 0:Ld.call(Pa,Ke))||(e=>s(ul,Me(e),(t,[o,r])=>(t[o]=r,t),d())),BC=Ke.assign.bind(Ke),Id=Ke.create.bind(Ke),d=(e=null,t=null)=>e?Id(t,yl(e)):Id(t),et=d(),Ho=e=>{s(Gn,P,()=>{throw e})},{iterator:qn,hasInstance:dl,match:vd,matchAll:Cd,replace:Od,search:_d,split:Nd,toStringTag:si}=wo,GP=wo[dl],B=(e,t)=>s(GP,e,t),{childNodes:FP,children:qP}=I?ee.createDocumentFragment():et,ii=[[],new ye,new Ft,""];I&&s(Da,ii,FP,ee.createElement("_").classList,qP);var[VP,BP,YP,KP,WP,zP,$P]=ii.map(({[qn]:e})=>e),fl=e=>{if(B(Zo,e))return VP;if(B(ye,e))return BP;if(B(Ft,e))return YP;if(I){if(B(nl,e))return zP;if(B(ll,e))return KP;if(B(xa,e))return WP}return typeof e=="string"||B(Qp,e)?$P:e[qn]},ze=Ke.defineProperty.bind(Ke),Vn=Ke.getPrototypeOf.bind(Ke),QP=va.ownKeys.bind(va),[XP,gl,jP,JP,ZP,eh,th]=ii.map(e=>e&&e[qn]().next),vf=e=>{if(B(Zo,e))return XP;if(B(ye,e))return gl;if(B(Ft,e))return jP;if(I){if(B(nl,e))return JP;if(B(ll,e))return ZP;if(B(xa,e))return eh}return typeof e=="string"||B(Qp,e)?th:s(fl(e),e).next},x=function(e,t,o){let r=s(fl(e),e),n=vf(e),i=s(n,r),a=0;for(;!i.done;)s(t,o,i.value,a++,e),i=s(n,r)},Go=e=>s(_t,e,()=>{}),Cf=I?er:et,{doNotTrack:Md,cookieEnabled:Of}=Cf,{globalPrivacyControl:_f,userAgent:Fo}=Cf,vr=I&&Of?P.sessionStorage:d(),rt=I&&Of?P.localStorage:d();var Me=e=>{let t=s(fl(e),e),o=vf(e),r=[],n=s(o,t);for(;!n.done;)s(Da,r,n.value),n=s(o,t);return r},nt=e=>{e.length=0},ut=e=>e.next().done,rr=Ke.getOwnPropertyDescriptor.bind(Ke),yl=Ke.getOwnPropertyDescriptors.bind(Ke),G=(e,t)=>rr(e[S],t),ai=e=>yl(e[S]),{hasOwnProperty:Nf}=Ke[S],{postMessage:Mf,start:xf,close:Lf}=RP[S],{parse:oh,stringify:rh}=el,Bn=oh.bind(el),Ue=rh.bind(el),{href:Df,hostname:ft,origin:qo}=Qr,Yn=Io[S],{test:Ua}=Yn,El=vd&&Yn[vd],YC=Cd&&Yn[Cd],Tl=Nd&&Yn[Nd],KC=_d&&Yn[_d],Al=Od&&Yn[Od],Kn=G(Io,"source").get,bf=G(Io,"flags").get,{includes:kf,split:wf,startsWith:Uf,endsWith:Hf,toLowerCase:Gf,toUpperCase:Ff,replace:qf,replaceAll:WC,trim:Vf,match:Bf,matchAll:zC,search:$C,indexOf:Yf,slice:Kf}=Qp[S],{add:Wf,has:zf,delete:$f}=wn[S],{get:Qf,set:Xf,has:jf,delete:Jf}=ti[S],{preventDefault:Ha,stopPropagation:Zf,stopImmediatePropagation:eg}=hr[S],{add:QC,remove:XC,toggle:jC,contains:Sl}=I?ll[S]:et,{addEventListener:He,removeEventListener:Vo,dispatchEvent:Rl}=tl[S],{set:Vt,entries:Cr,toString:Wn,has:Ga,get:Fa,delete:tg}=so[S],Dd,xd=(Dd=G(so,"size"))==null?void 0:Dd.get,og=e=>xd?!s(xd,e):ut(s(Cr,e)),{entries:rg}=Zp[S],{go:nh,replaceState:ng}=I?hP[S]:et,zn=()=>{s(nh,PP,0)},{click:qa}=I?jd[S]:et,{submit:Pl,requestSubmit:hl}=I?Ma[S]:et,{setAttribute:Xt,setAttributeNS:Il,setAttributeNode:sg,setAttributeNodeNS:ig,insertAdjacentElement:ag,insertAdjacentHTML:cg,append:ci,remove:pg,hasAttribute:Va,getAttribute:$n,removeAttribute:Ba,hasAttributeNS:JC,getAttributeNS:lg,removeAttributeNS:ug,getElementsByTagName:ZC,matches:eO}=I?Fn[S]:et,{appendChild:Jr,removeChild:mg,insertBefore:pi,replaceChild:dg,cloneNode:fg,getRootNode:tO,lookupNamespaceURI:gg}=I?or[S]:et,{forEach:yg}=I?nl[S]:et,{setNamedItem:Eg,setNamedItemNS:Tg}=I?CP[S]:et,{adoptNode:vl,importNode:Cl,append:oO,prepend:rO,write:Ya=ee==null?void 0:ee.write,open:Ka=ee==null?void 0:ee.open,close:Wa=ee==null?void 0:ee.close,execCommand:Ag,createElement:Sg,createElementNS:Rg,createDocumentFragment:sh,createTreeWalker:Pg}=I?vo[S]:et,{nextNode:hg}=I?TreeWalker[S]:et,{append:nO,prepend:sO}=I?_P[S]:et,{before:iO,after:aO,replaceWith:cO}=I?NP[S]:et,{before:pO,after:lO,replaceWith:uO}=I?MP[S]:et,{observe:Ig,disconnect:vg}=I?il[S]:et,Cg=Sd&&Sd[S].getEntries,{observe:Og,disconnect:mO,takeRecords:dO}=Rd&&Rd[S]||d(),_g=Pd&&Pd[S].getEntries,Ng=uo==null?void 0:uo.timeOrigin,Mg=uo==null?void 0:uo.setResourceTimingBufferSize,xg=uo==null?void 0:uo.clearResourceTimings,Lg=I&&new $d,{parseFromString:Dg}=I?$d[S]:et,{serializeToString:bg}=I?sl[S]:et,{createHTMLDocument:Ol,createDocument:za}=I?DOMImplementation[S]:et,zp=["DocumentFragment","Document","Element"],$p=["DocumentType","CharacterData","Element"],kg=new Ft,wg=new Ft,Ug=new Ft,Hg=new Ft,Gg=new Ft,Fg=new Ft;I&&(x(zp,e=>{let t=P[e];kg.set(e,t[S].querySelector),wg.set(e,t[S].querySelectorAll)}),x($p,e=>{let t=P[e];Ug.set(e,t[S].remove),Hg.set(e,t[S].replaceWith),Gg.set(e,t[S].before),Fg.set(e,t[S].after)}));var Qn=I&&G(or,"nodeType").get,_l=I&&G(or,"childNodes").get,fO=I&&G(or,"parentNode").get,gO=I&&G(or,"parentElement").get,Xn=I&&G(or,"firstChild").get,{contains:qg,compareDocumentPosition:ih,DOCUMENT_POSITION_DISCONNECTED:ah,DOCUMENT_NODE:Nl,ELEMENT_NODE:$a,TEXT_NODE:Ml,DOCUMENT_FRAGMENT_NODE:xl,DOCUMENT_TYPE_NODE:Vg}=I?or[S]:et,{SHOW_ELEMENT:Bg,FILTER_SKIP:Yg,FILTER_REJECT:Kg}=I?vP:et,jt=e=>e!==null&&typeof e=="object"&&"nodeType"in e,io=e=>s(Qn,e)===$a,jn=e=>s(Qn,e)===Nl,Wg=e=>s(Qn,e)===xl,zg=e=>s(Qn,e)===Ml,Bo=I&&G(vo,"cookie"),ch=I&&G(vo,"implementation").get,It=I&&G(or,"ownerDocument").get,Qa=I&&G(vo,"defaultView").get,Ll=I&&G(vo,"currentScript").get,ph=I&&G(vo,"readyState").get,Jn=I&&(e=>s(ph,e)),Zn=I&&G(Fn,"tagName").get,li=I&&G(Fn,"namespaceURI").get,$g=I&&G(Fn,"firstElementChild").get,es=I&&s(ch,ee),nr=I&&s(Ll,ee),lh=()=>s(_l,s(sh,ee)),Xa=(e,t)=>(o,...r)=>{let n=s(Qa,s(It,o)||ee)||P,i=$p.length;for(;i--;){let a=$p[i],p=n[a];if(B(p,o))return U(s(ka,e,a),o,r)}return t},Qg=(e,t)=>(o,...r)=>{let n=s(Qa,jn(o)?o:s(It,o)||ee)||P,i=zp.length;for(;i--;){let a=zp[i],p=n[a];if(B(p,o))return U(s(ka,e,a),o,r)}return t},Zr=I&&Xa(Ug),yO=I&&Xa(Gg),Xg=I&&Xa(Fg),jg=I&&Xa(Hg),sr=I&&Qg(kg,null),EO=I&&Qg(wg,lh()),mo=Ke.freeze.bind(Ke),Jg=Ke.isFrozen.bind(Ke),Dl=(e,t,o=e[t])=>ze(e,t,{value:o,configurable:!1,writable:!1,enumerable:!1}),gt=e=>(mo(e[S]),mo(e)),bl=e=>{let t=QP(e);for(let o of s(ml,t)){let r=e[o];r&&typeof r=="object"&&bl(r)}return mo(e)},Re=Zo.isArray.bind(Zo),Jt=Gt.now.bind(Gt),Eo=Gt.parse.bind(Gt),{toISOString:uh,toUTCString:mh,setMilliseconds:TO}=Gt[S],$e=(e=new Gt)=>s(uh,e),Zg=(e=new Gt)=>s(mh,e),bd,ey=(bd=bn==null?void 0:bn[S])==null?void 0:bd.encode,ty=zd[S].json,ja=zd[S].text,oy=rr(Vn(Uint8Array[S]),"byteLength").get,Ja=Pr.min.bind(Pr),ry=Pr.max.bind(Pr),Za=Pr.random.bind(Pr),ny=Pr.floor.bind(Pr),ts=ko.createObjectURL.bind(ko),sy=ko.revokeObjectURL.bind(ko),ha,kd,kl=(kd=(ha=ko==null?void 0:ko.parse)==null?void 0:ha.bind)==null?void 0:kd.call(ha,ko),iy=Md==="1"||Md==="on",ui=I&&G(Navigator,"languages").get,{DateTimeFormat:wl}=rl,{resolvedOptions:ay}=wl[S],{sendBeacon:cy}=I?Navigator[S]:et,Ul=I&&G(LP,"commonAncestorContainer").get,dh=G(ye,"size").get,os=e=>s(dh,e),fh=G(Ft,"size").get,Nt=e=>s(fh,e),Co=e=>{let t=yl(e);return(o,...r)=>{let n=d();return x(r,i=>{let a=t[i];if(a){let{get:p,set:c}=a;(p||c)&&ze(n,i,_(_({},p&&{get(...l){return U(p,o,l)}}),c&&{set(...l){return U(c,o,l)}}))}}),n}},en=Co(hr[S]),ec=Co(MessageEvent[S]),{item:AO}=I?xa[S]:et,SO=I&&G(xa,"length").get,py=I&&G(jd,"dataset").get,ly=I&&G(xP,"dataset").get,wd,tn=(wd=rr(P,"document"))==null?void 0:wd.get,Qe=I&&G(vo,"documentElement").get,uy=I&&G(vo,"doctype").get,mi=I&&G(vo,"body").get,on=I&&G(vo,"head").get,Ud,Hl=I&&((Ud=G(vo,"xmlVersion"))==null?void 0:Ud.get),tc=I&&G(Ma,"action"),my=I&&G(Ma,"enctype"),dy=I&&G(Ma,"method"),Gl=I&&(G(or,"isConnected")||{get(){let e=s(It,this);return!e||!(s(ih,e,this)&ah)}}).get,fy=I&&rr(P,"closed").get,rn=I&&G(Fn,"innerHTML"),di=I&&G(Fn,"outerHTML"),oc=hd&&G(hd,"innerHTML"),Fl=I&&G(Na,Js),rs=I&&G(pl,Js),fi=I&&G(pl,"currentSrc"),RO=I&&G(pl,"srcset"),ql=I&&G(Jd,Js),Vl=I&&G(Jd,"currentSrc"),gy=I&&G(cl,Js),Hd,gi=I&&((Hd=G(cl,"credentialless"))==null?void 0:Hd.set),rc=I&&G(cl,"srcdoc"),PO=I&&G(al,"ping"),yy=I&&G(al,"download"),Ey=I&&G(al,"href"),Ty=G(Xp,"url").get,{open:nc,send:sc,abort:Ay,getResponseHeader:Bl,OPENED:hO,HEADERS_RECEIVED:Sy,DONE:Ry}=kt?kt[S]:et,IO=kt&&G(kt,"withCredentials"),Py=kt&&G(kt,"response").get,hy=kt&&G(kt,"responseText").get,Iy=kt&&G(kt,"responseType").set,ic=kt&&G(kt,"readyState").get,{entries:vy}=ri[S],ac=Jt(),{captureStackTrace:cc}=we;var w=(e,t)=>s(Zd,e,t),To=(e,t,o)=>s(ef,e,t,o),Ee=(e,t,o)=>s(tf,e,t,o),M=(e,t,o)=>s(of,e,t,o),y=(e,...t)=>U(Da,e,t);var Ae=(e,t)=>s(rf,e,t),qe=(e,t,o)=>s(uf,e,t,o),yt=(e,t,o,...r)=>s(nf,e,t,o,...r),st=(e,t,o)=>s(sf,e,t,o),Bt=(e,t,o)=>s(af,e,t,o),ve=(e,t,o)=>s(cf,e,t,o),gh=(e,t)=>s(ba,e,t),yh=(e,t,o)=>s(ul,e,t,o),mt=(e,...t)=>U(lf,e,t),nn=ba?e=>gh(e,1):e=>yh(e,(t,o)=>mt(t,o),[]),Cy=ba?(e,t,o)=>s(pf,e,t,o):(e,t,o)=>nn(M(e,t,o)),ns=(e,t,o)=>s(mf,e,t,o);var v=e=>s(ml,e),Le=e=>s(Ef,e);var zl=e=>s(Pf,e),vt=e=>s(hf,e),St=(e,t)=>s(kf,e,t),Oy=El?(e,t)=>s(El,t,e):(e,t)=>s(Bf,e,t),Pe=(e,t,o)=>s(wf,e,t,o),Oo=Tl?(e,t,o)=>s(Tl,t,e,o):Pe,Rt=(e,t,o)=>s(Uf,e,t,o),$l=(e,t,o)=>s(Hf,e,t,o),Mt=e=>s(Gf,e),Zt=e=>s(Ff,e),Et=Al?(e,t,o)=>s(Al,t,e,o):(e,t,o)=>s(qf,e,t,o),ss=e=>s(Vf,e),sn=(e,t,o)=>s(Yf,e,t,o),eo=(e,t,o)=>s(Kf,e,t,o),ir=(e,t)=>s(Wf,e,t),Or=(e,t)=>s(zf,e,t),pc=(e,t)=>s($f,e,t),an=(e,t)=>s(Qf,e,t),is=(e,t,o)=>s(Xf,e,t,o),_y=(e,t)=>s(jf,e,t),Ny=(e,t)=>s(Jf,e,t),J=(e,t)=>s(df,e,t),Se=(e,t)=>s(ff,e,t),My=(e,t)=>s(gf,e,t),Yo=e=>s(yf,e),ce=(e,t)=>s(ka,e,t),ae=(e,t,o)=>s(Tf,e,t,o),ke=(e,t)=>s(Af,e,t),Ko=(e,t)=>s(Sf,e,t),Ao=e=>s(Rf,e),xy=(e,t)=>s(yg,e,t),Ge=(e,t)=>s(Ua,e,t),le=e=>{let t=new Ft;return e&&x(e,([o,r])=>{ae(t,o,r)}),t},yi=e=>{let t=new ti;return e&&x(e,([o,r])=>{is(t,o,r)}),t},ue=e=>{let t=new ye;return e&&x(e,o=>{J(t,o)}),t},_r=e=>{let t=new wn;return e&&x(e,o=>{ir(t,o)}),t},Ly=(e=new Date)=>Pe($e(e),"T")[0],Yl,lc=bn?e=>s(oy,s(ey,Yl!=null?Yl:Yl=new bn,e)):e=>s(Kd,P,go(e)).length,Kl=e=>`data-${Et(e,/[A-Z]/g,t=>`-${Mt(t)}`)}`,Eh=function(){let e=this;return new La(d(),{get:(t,o)=>s($n,e,Kl(o)),set:(t,o,r)=>s(Xt,e,Kl(o),r),deleteProperty:(t,o)=>(s(Ba,e,Kl(o)),!0)})},ar=e=>s(s(li,e)===Jo?py:s(li,e)===Ad?ly:Eh,e),Wl,_o=e=>s(bg,Wl!=null?Wl:Wl=new sl,e),to=e=>s(Rg,ee,Jo,e),No=e=>Zt(s(Zn,e));var Dy=()=>{var o,r;x(ii,n=>{Dl(Vn(n),qn),mo(Vn(n[qn]()))});let e=(r=(o=P)==null?void 0:o.Iterator)==null?void 0:r[S];e&&mo(e);let t=[[ti[S],"has","get","set"],[wn[S],"has","add"],[wn,dl],[Zs[S],"call"]];x(t,([n,...i])=>{x(i,a=>{Dl(n,a)})})};var Pt=(e,t=d,o)=>{try{return Bn(e,o)}catch(r){return Ho(r),t==null?void 0:t()}};var Ei=Co(location).bind(P,location),he=Co(URL[S]),Mr=(e,t=Nr)=>new URL(e,t),Th=/^\s*data:/i,Hy,Gy,Ah=(Gy=(Hy=ni)==null?void 0:Hy[S])==null?void 0:Gy.test,Sh=ni&&new ni,as=e=>s(Ua,Th,`${e}`),by=ni&&(e=>e!==null&&s(Ah,Sh,`${e}`,"http://-")),ky=(e,t=Nr)=>{try{return as(e)?null:Mr(e,t)}catch(o){return null}},Yt=kl?(e,t=Nr)=>as(e)?null:kl(e,t):by?(e,t=Nr)=>!as(e)&&by(e)?Mr(e,t):null:I?(()=>{let e=document.createElementNS(Jo,"input");e.type="url";let t=e.validity,o=G(HTMLInputElement,"value").set,r=G(ValidityState,"valid").get;return(n,i=Nr)=>as(n)?null:(s(o,e,n),n&&s(r,t)?Mr(n,i):ky(n,i))})():ky,Tt=(e,...t)=>he(Mr(e),...t),wy=ai(Event),Rh=d(),Ph=d();for(let e of v(Ze(wy))){let{get:t,set:o}=wy[e];Rh[e]=t,Ph[e]=o}var Ql,cs=()=>{var e;return uo?Ql!=null?Ql:Ql=((e=st(s(Cg,uo),({entryType:t})=>t==="navigation"))==null?void 0:e.name)||Nr:Nr},Xl=e=>{let t=sn(e,"#"),o=~t?sn(eo(e,t),Ra):-1;return~o?t+o:-1},uc=(e=cs(),t=Xl(e))=>~t?new URLSearchParams(eo(e,t+Ra.length)):!1,hh=/=(&|$)/g,Ih=e=>Et(e,hh,"$1"),Uy=e=>Ih(s(Wn,e)),jl=(e,t)=>{if(ut(s(Cr,t)))return;let{hash:o}=e;if(o){let r=Xl(o);if(~r){let n=uc(o);for(let[i,a]of s(Cr,t))s(Vt,n,i,a);e.hash=`${eo(o,0,r)}${Uy(n)}`;return}}e.hash+=`${Ra}${Uy(t)}`},Fy=(e,t=cs(),o=history)=>{if(!e.length)return;let r=Xl(t);if(~r){let n=uc(t,r);x(e,a=>{s(tg,n,a)});let i=Tt(eo(t,0,r),"hash","href");jl(i,n),s(ng,o,null,null,Et(i.href,/#$/,""))}};var mc="tcmConfigOverrides",vh=()=>{let{[mc]:e}=vr,t=uc(),o=t||new so;if(e){let r=Pt(e);r&&x(We(r),([n,i])=>{(!t||!s(Ga,t,n))&&s(Vt,o,n,i)})}return o},dc=vh();var it="on",fe="off",cn="consent",Mo="quarantine";var qy,cr=!((qy=nr)!=null&&qy.src)&&typeof GM<"u";var Ch=/(?:\s*(?:,\s*)+|\s+)/,xt=e=>Oo(e,Ch);var Jl=["fatal","error","warn","info","log","debug","trace"],Oh=e=>{let t=-1;return x(e,o=>{let r=ns(Jl,o);~r&&(t=ry(r,t))}),~t?qe(Jl,0,t+1):[]},_h=["all","*"],Vy=e=>ue(Oh(w(_h,e)?Jl:!e||e==="off"?[]:xt(e)));var Zl=P.airgap,Ti=Zl==null?void 0:Zl.loadOptions,By=nr?ar(nr):d();if(cr){let e={log:"*",monitoring:"export"},{tcmLoadOptions:t}=rt,o=_(_({},e),t?Pt(t):d());Ti=Ti?_(_({},Ti),o):o}var V=d(Ti?_(_({},Ti),By):By),Nh=["fatal","error","warn","info","log","debug","trace"],Yy="log",Mh="info",Ky,eu=s(Fa,dc,Yy)||Mt((Ky=V[Yy])!=null?Ky:""),tu=Vy(eu),h=os(tu)>ns(Nh,Mh),Ve=Se(tu,"error"),dt=Se(tu,"warn"),fc=V.tamperResist===it,Nr=V.baseUrl||Df;var ou=(e,t)=>ze(e,si,{value:t,enumerable:!0,configurable:!1,writable:!1});var xh=/\.+$/g,ps=e=>Et(e,xh,"");var pr=(e,t,o,r=!0)=>{if(r&&(t===""||t===null))return!0;let{hostname:n,port:i}=Tt(`https://${t}${typeof o<"u"?`:${o}`:""}`,"port","hostname"),a=Pe(ps(n),".");return Ee(e,p=>{let{port:c,hostname:l}=Tt(`https://${p}`,"port","hostname"),u=Pe(ps(l),"."),m=Ae(qe(a,-u.length),".");return l===m&&(!c||c===i)})};var pn=e=>B(ye,e)?ue(e):jt(e)?_o(e):typeof e<"u"?Bn(Ue(e)):void 0;var Lh=/[=;]/g,Wy=e=>Et(`${e}`,Lh,t=>s(go,P,t)),lr=({name:e,value:t},o=!1)=>`${Wy(o||e||"")}${o?"":`=${Wy(t||"")}`}`;var gc=(e,t)=>{let o=ar(t);x(wa(e),r=>{let n=e[r];(typeof n=="string"||typeof n=="number")&&(o[r]=n)})};var yc=({getKey:e,searchDepth:t=null,condition:o})=>(r,...n)=>{let a=!n.length?Me(r):nn(n),p=new ye;x(a,f=>{J(p,e(f))});let c=[],l=t===null,u=l?0:Ja(a.length,t);x(l?a:qe(a,-u),(f,E)=>{let O=e(f);Se(p,O)?(!o||o(f))&&y(c,l?E:E+u):J(p,O)});let m=c.length;for(;m--;){let f=c[m];yt(a,f,1)}return a},Ec=yc({getKey:({url:e})=>e,condition:e=>{var o;let t=(o=e==null?void 0:e.requestInit)==null?void 0:o.method;return!t||Zt(t)==="GET"}}),Tc=yc({getKey:lr});var ln=(e,t,o)=>{let r=d(),n=!1;return x(e,i=>{let a=o[i];t[i]!==a&&(n||(n=!0),r[i]=a)}),n?r:null};var ls=({timestamp:e},t)=>(jr(e)?e:Eo(e))<Jt()-t,ru=(e,t)=>ve(e,o=>ls(o,t));var Dh={get(){return this.isTrusted}},nu=(e,t="")=>(rr(new e(t),"isTrusted")||Dh).get,Ac=nu(hr),bh=I&&nu(Jp),kh=e=>B(hr,e)&&s(Ac,e),wh=Fd||hr,su=e=>B(wh,e)&&en(e,"type").type==="submit"&&kh(e),Uh=nu(_a,"securitypolicyviolation"),Qy=e=>s(Uh,e),zy=e=>{let{type:t,timeStamp:o}=en(e,"type","timeStamp");return s(Ac,e)&&t==="load"&&o<=ac},Hh=e=>s(Ac,e)&&en(e,"type").type==="change",$y=e=>I&&B(Jp,e)&&s(bh,e)||su(e)||Hh(e),Gh=oi||hr,Xy=e=>B(Gh,e)&&en(e,"type").type==="change"&&s(Ac,e),iu=(e,t=!0)=>{if(!e)return!1;if(B(hr,e)&&(t&&$y(e)||zy(e)))return!0;let{interaction:o,load:r}=e;return t&&o&&$y(o)||r&&zy(r)||!1};function au(e){return Ze(e)}var cu=e=>{let t=d();if(w(["string","number","boolean","undefined"],typeof e))return t;let r=au(Vn(e)),n=au(e),i=a=>{t[a]=e[a]};return x(r,i),x(n,i),t};var Sc=(e="",t,o=Vd)=>{let r=(b,Y,...L)=>{let W=[],Z=!0;x(L,({tag:Ce,message:ne})=>{Z?(typeof ne.content=="string"?y(W,[`%c${Ce.content?`${Ce.content}%c `:"%c"}${ne.content}`,...Ce.styles,"",...ne.styles]):y(W,[`%c${Ce.content}`,...Ce.styles,ne.content]),Z=!1):y(W,ne.content)});let re=nn(W);U(b,o,re)},n="font-size:larger;font-weight:bold;border-radius:0.25em;padding:0.08em 0.25em;",i=`${n};color:navy;background-color:#78acff;`,a=`${n};color:#2F4F4F;background-color:darkgray`,p=`${n};color:amber;background-color:#6e3e00`,c=`${n};color:#800000;background-color:#ff4500`,l=e,u=(b,Y)=>{let L=l;l=b,Y&&(Y(),l=L)},m=le([["fatal","error"]]),f=(b,Y,L=n)=>{if(t&&!Se(t,Y)){let ne=()=>{};return ne.styled=ne,ne}let W=o[ke(m,b)?ce(m,b):b],Z=[L],re=[],Ce=(...ne)=>{r(W,b,...M(ne,Be=>({tag:{content:l,styles:Z},message:{content:Be,styles:re}})))};return Ce.styled=(ne,...Be)=>{let[ot]=Be;Be.length>0&&(typeof ot!="string"||!St(ot,"%c"))&&(Be[0]=`%c${ot}`),typeof ne<"u"&&ne!==null&&y(re,...Re(ne)?ne:[ne]),Ce(...Be),nt(re)},Ce},E="info",O=[["group",[E,i]],["groupCollapsed",[E,i]],["groupEnd",[E,i]],["trace",["trace",a]],["log",[E,i]],["info",[E,i]],["debug",["debug",a]],["warn",["warn",p]],["error",["error",c]],["fatal",["error",c]]],N=d({tag:u});return x(O,([b,[Y,L]])=>{N[b]=f(b,Y,L)}),mo(N)};var Fh=+(V.quarantineSyncBudget||0),un=({timestamp:e,purposes:t,confirmed:o,prompted:r,updated:n,metadata:i,metadataTimestamp:a,quarantine:p},c,l=Fh)=>d(_({purposes:t?d(yo(ve(We(t),([u])=>!c||Se(c,u)))):d(),timestamp:$e(new Gt(e?Eo(`${e||0}`):Jt())),confirmed:!!o,prompted:!!r,updated:!!n,metadata:i,metadataTimestamp:a},l&&(l===-1||lc(Ue(p))<=l)&&d({quarantine:p})));var Ai=e=>e?ve(M(e?ve(xt(e),t=>t):[],t=>Yt(Ge(/^[\w-]+:\/\//,t)?t:`https://${t}`)),t=>t):[];var Si=class{constructor(t,o){this.id=t;q(this,"hosts");q(this,"data");q(this,"toJSON",()=>{let{id:t,data:o,hosts:r}=this;return{[t]:o?[o,...r]:r}});let[r]=o;typeof r=="object"?(this.data=r,this.hosts=qe(o,1)):this.hosts=o}};gt(Si);var us=class extends Zo{constructor(o){super();q(this,"findGroupByHost",o=>{for(let r of v(this))if(pr(r.hosts,o))return r;return null});q(this,"findGroupById",o=>{for(let r of v(this))if(r.id===o)return r;return null});q(this,"setAll",o=>{let r=We(o);for(let[n,i]of v(r)){let a=this.findGroupById(n),p=Re(i)?i[0]:i;a&&typeof p=="object"&&(a.data=p)}});q(this,"serialize",()=>{let o=d();for(let{id:r,data:n}of v(this))n&&(o[r]=un(n));return o});if(o)for(let[r,n]of We(o))y(this,new Si(r,n))}get hosts(){let o=new ye;for(let{hosts:r}of v(this))for(let n of v(r))J(o,n);return Me(o)}};gt(us);fc&&Dy();var Ri="HTMLImageElement",Pi="HTMLAnchorElement",mn="HTMLLinkElement",Rc="HTMLScriptElement",Pc="HTMLMediaElement",xr="HTMLIFrameElement",hc=!0,Ic=M(Pe("about data blob mailto mediastream filesystem chrome-extension moz-extension safari-web-extension safari-extension"," "),e=>`${e}:`),Wo=e=>`airgap.${e}(): Authorization proof is untrusted`,Lr="unknown",So="Essential",wt="Unknown",pu=wt,oo="request",Dr="cookie",lu="origin",vc="font-weight:bold",Ut="airgap.js",dn="*",Cc=[dn,it,"all"],jy=7e4,Jy=1e3,Zy=3e5,eE="uspapi",tE="tcfapi";var oE="ui",uu="policies",mu="dataflows",Oc="hosts",_c="paths",Nc="csp",du="cookies",Mc=d({once:!0}),ms="module",ds=()=>{},xc="pagehide";var rE=1e3,fu="tcm";var g=Sc("airgap.js");var nE=!1,gu=()=>{nE=!0},fn=new ye,gn=()=>(nE||(iy&&J(fn,"DNT"),_f&&J(fn,"GPC"),gu()),fn);var yu=!1,sE=!1,iE=()=>yu,aE=()=>sE,qh=()=>{let e=dc;if(!og(e)){let t=(c,l)=>{g.warn(`Using ${c} override:`,l?Ue(l):"(empty)")},o=wo(),r=wo(),n=d(),i=d({log:c=>{t("log level",c)},"tcm-prompt":c=>(g.warn("Consent prompt triggered by config override"),c&&t("prompt view state",c),sE=c,r),"tcm-reset":()=>(yu=s(Wd,P,"Reset tracking consent?"),yu&&g.warn("Resetting all caches & consent"),r),"tcm-report-only":c=>{c===fe&&(t("report-only mode",c),V.reportOnly=c)},"tcm-regime":c=>{t("privacy regime",c),V.regime=c},"tcm-signals":c=>{t("privacy signals",c),Yo(fn),c&&x(xt(c),l=>{J(fn,l)}),gu()},"tcm-clear-overrides":()=>(g.log("Clearing all config overrides"),x(Ze(n),c=>{delete n[c]}),delete vr[mc],o)}),a=!0,p=[];for(let[c,l]of s(Cr,e)){if(!s(Nf,i,c))continue;y(p,c);let u=i[c](l);if(u===o){a=!1;break}u!==r&&(n[c]=l)}a&&(vr[mc]=Ue(n)),Fy(p)}};qh();var Vh="Unknown",cE=[["GDPR","LGPD","nFADP"],["Advertising","Analytics","Functional","SaleOfInfo"]],Eu=[cE,[["CPRA","CDPA","CPA","NEVADA_SB220","US_DNSS"],["SaleOfInfo"]],[[Vh],[]]],Tu=[cE],zN=Object.fromEntries(Tu.map(([e,t])=>e.map(o=>[o,t])).flat()),$N=Object.fromEntries(Eu.map(([e,t])=>e.map(o=>[o,t])).flat());var pE=[["EU","AI AT AW AX BE BG BL BM CW CY CZ DE DK EE ES FI FK FO FR GB GF GG GI GL GP HR HU IE IM IO IT JE KY LT LU LV MF MQ MS MT NC NL PF PL PM PN PT RE RO SE SH SI SK SX TC UK VG WF YT"]],lE=[[[["US","CA"]],["CPRA"]],[[["EU"],["GB"],["NO"],["IS"],["LI"]],["GDPR"],"in",!0,["Europe"]],[[["BR"]],["LGPD"],"in",!1,"Araguaina Bahia Belem Boa_Vista Campo_Grande Cuiaba Eirunepe Fortaleza Maceio Manaus Noronha Porto_Velho Recife Rio_Branco Santarem Sao_Paulo".split(" ")]],Lc="GoogleConsentMode",Dc="GoogleAdsRDP",fs="FacebookLDU",uE=`${fs}:strict`,bc="YouTubePrivacyEnhancedMode",kc="VimeoDNT",wc="WistiaDNT";var ur="9.8.2",gE,yE,EE,Su=nr&&(((gE=nr)==null?void 0:gE.src)||((EE=(yE=nr)==null?void 0:yE.href)==null?void 0:EE.baseVal))||V.airgap;if(!Su){let e;if(cr){let t=GM.info.script.resources;e=(r=>{var n;return(n=st(t,({name:i})=>i===r))==null?void 0:n.url})(Ut)}if(!e)throw new we("No airgap.js script URL detected.");Su=e}var vu=Tt(Su,"href","search","hostname"),{search:Ci,href:ao}=vu,{telemetry:RE,backendSync:Bh,reportOnly:Yh,monitoring:Ru,privacyPolicy:Kh,xdiAllowed:Wh=Kh||"",regulateRequests:zh,regulateCookies:PE,regulateNavigation:$h,trackerOverrides:Qh,telemetryPartitioning:Xh,telemetryTrackingPurpose:jh,prioritizeTelemetry:Pu,requireAuth:hE,signedIabAgreement:Jh,sync:Uc,localSync:Zh,site:eI,sites:mE,syncEndpoint:tI,syncEndpointMap:dE,mutationObserver:oI,tfpf:rI,tfpfStackLimit:nI,unknownRequestPolicy:hu,unknownCookiePolicy:Iu,protectRealms:IE,realmProtectionHooks:Au}=V,{trackerOverridesUnconsentedPurpose:Gc="SaleOfInfo",telemetrySyncPeriod:vE=300,telemetryProcessingPeriod:CE=5e3,initialTelemetrySyncPeriod:OE=30,bdInteractionThreshold:_E=600,backendSyncEndpoint:hi,autoExpire:Hc,firstParty:NE,syncGroups:ME,quarantineSize:sI,partition:Kt,telemetrySampleRate:iI=1,eventSampleRate:aI=1}=V,Oi=IE!=="self",xE=Oi&&IE!=="descendants",Ii=[],cI=Au!=="off"&&Au?xt(Au):[];for(let e of v(cI)){let t=sn(e,":");if(~t){let o=eo(e,0,t),r=eo(e,t+1);y(Ii,[o,r])}else y(Ii,[e])}var gs=Mt(Uc!=null?Uc:""),pI=[cn,Mo],yn=!gs||w(Cc,gs)?pI:gs===fe?[]:Ge(/\s|,/,gs)?xt(gs):[gs],Fc=w(yn,cn),Cu=w(yn,Mo),fE=dE&&We(Pt(dE,d)),TE,br=((TE=fE&&st(fE,([e])=>pr([e],ft)))==null?void 0:TE[1])||tI,co=Uc===fe||!yn.length,LE=co||!Fc&&!Cu||!br,_i=!co&&Fc&&Bh===it&&hi,Ou=Jh,DE=hc&&jh||So,vi=hc&&V.telemetryEndpoint||typeof telemetryEndpoint<"u"&&telemetryEndpoint,ys=+iI,_u=ys===1||Za()<ys,En=+aI,at=(!hc||RE!==fe)&&vi&&_u,bE=RE==="usage",kE=Pu===it,wE=!Pu||Pu==="usage",UE=["origin","host","hostname","port"],Nu=[];hi&&_i&&y(Nu,Tt(hi,...UE));var Ni=[];vi&&at&&y(Ni,Tt(vi,...UE));var Ct=Yh===it,xo=Ru==="export",Xe=Ru!==fe&&(at||Ct||xo||Ru===it),HE=!Ct&&zh!==fe,Mi=!Ct&&PE!==fe,GE=Mi&&PE==="2",qc=!Ct&&$h===it,FE=oI===it,qE=+(sI||2621e3),At=Hc?+Hc*6e4:0,Mu="airgap://test 'self' data: blob:",VE=V.regulateAllScripts!==fe,BE=()=>{VE=!0},Es=()=>VE;var AE,xi=xt(Ct?fe:(AE=V.csp)!=null?AE:"allow-known-hosts allow-subdomains"),Ts=!w(xi,fe),Vc=M(Ai(Wh),e=>he(e,"host","hostname","port")),Bc=Fo&&St(Fo,"Edge/"),Yc=Fo&&St(Fo,"Chrome/"),xu=Fo&&St(Fo,"Safari/")&&!Yc,Lu=!xu,Du=Fo&&St(Fo,"Firefox/"),SE,bu=xu&&((SE=Oy(Fo,/Version\/(\d+)/))==null?void 0:SE[1]),As=eI||mE&&st(xt(mE),e=>pr([e],ft)),lI=Zh==="allow-network-observable",zo=I&&!Lu&&As&&lI,Ss=Kt?`${fu}:${Kt}`:fu,Kc=wo(),Wc=hE===fe,YE=hE==="strict",Rs=Qh!==fe,uI=[lu,"path","url"],ku=st(uI,e=>e===Xh)||lu,Li=rI!==fe&&!xu,KE=+(nI||10),zc=!Un,WE=9,$c=!Ts&&(!hu||hu==="allow"),Ps=!Ts&&($c||hu==="require-full-consent"),Qc=!Iu||Iu==="allow",Di=Qc||Iu==="require-full-consent",bi=Un&&Xe&&Li&&Qc;var zE="interaction",Ro=(e,t=!0)=>Wc||t&&(e==null?void 0:e.key)===Kc&&iu(d({[zE]:e==null?void 0:e[zE]}),t)||iu(e,!YE&&t);var Xc=e=>{if(typeof e>"u")return;let t=d(e);return B(Zp,t.headers)&&(t.headers=yo(s(rg,t.headers))),B(ri,t.body)&&(t.body=new so(t.body)),B(so,t.body)?(t.body=s(Wn,t.body),t):(B(qd,t.body)&&delete t.body,t)};var $o=[],$E=e=>{h&&g.log("Cookie watcher registered:",e);let t=y($o,e)-1;return{remove:()=>{$o[t]!==e&&(t=Bt($o,r=>r===e)),yt($o,t,1)}}};var wu=!1,Jc=()=>wu,hs=[],QE=()=>{Re(jc)&&jc.length&&(wu=!0,y(hs,...jc))},XE=(e,...t)=>{if(!Ro(e,!1))throw new we(Wo("overrideCookies"));if(t.length){wu=!0;for(let r of v(t))y(hs,r);h&&g.log(`Cookie override${t.length>1?"s":""} registered:`,t)}return{remove:()=>{for(let r of v(t)){let n=Bt(hs,i=>i===r);n!==-1&&yt(hs,n,1)}}}},jE=e=>{if(hs.length)for(let t of v(hs))t(JE(e))};var Zc=!Ct,$=()=>!Zc,mI=e=>{Zc=e},dI=e=>{let t=!!(typeof e>"u"?!Zc:typeof e=="boolean"?e:e!=null&&e.protection);return Ct&&t?(Ve&&g.error("Cannot enable protection in report-only mode"),!1):(mI(t),!0)},ZE=(e,t)=>Ro(e,!1)?dI(t):!1,eT=()=>mo(d({protection:Zc,csp:Ts,monitoring:Xe,telemetry:!!at}));var tT=["timestamp","expires","maxAge","domain","path","sameSite","secure"],oT=M(tT,Mt),fI=qe(oT,-1),gI=e=>M(Pe(e,"="),ss),ki=(e,t)=>{let o=Pe(e,";"),[r,n=""]=gI(o[0]);if(!r&&!n)return null;let i=d();for(let p of qe(o,1)){let[c,l]=M(Pe(p,"="),ss),u=Mt(Et(c,/[^a-z]/i,"")),m=ns(oT,u);m!==-1&&(i[tT[m]]=w(fI,u)?!!l:l)}let{domain:a}=i;return zc&&a&&nT(r,a),_(_({name:r,value:n},i),t)},rT=({Document:e})=>{e&&ze(e[S],"cookie",xe(_({},Bo),{set(...t){let o=()=>U(Bo.set,this,t);if($())return o();let[r]=t,n=()=>(xo&&a!==null&&y(po,a),o()),i=ki(r,{mutator:n});if(i===null)return n();let a=new Lt(i);return Jc()&&(t[0]=kr(a)),Is(a)?n():ep(a)}}))};var{regulationCacheSize:yI,regulationCacheGcInterval:EI,regulationCacheKeySize:TI}=V,Uu=+(yI||jy),AI=+(TI||Jy),sT=+(EI||Zy),Wt=!!Uu,wi=Wt&&le(),vs=Wt&&le(),Ui=Wt&&new Map,iT=({URLs:e,urls:t,requestInit:o})=>{let r=o!=null&&o.body?null:Ae(M(e,(n,i)=>n?he(n,"href").href:s(go,P,t[i])),`
`);return r!==null&&r.length>AI?null:r},Hu=()=>{Ao(wi),Ao(vs),Ao(Ui)},SI=()=>{Nt(wi)+Nt(vs)+Nt(Ui)>=Uu&&Hu()},aT=()=>{Wt&&sT&&~Uu&&s(Hn,P,SI,sT)};function cT(e=0,t=KE){let o=we.stackTraceLimit,r=d();we.stackTraceLimit=t,s(cc,we,r,e||Hi);let n=we.prepareStackTrace,i;return we.prepareStackTrace=(...a)=>([,i]=a,n?s(n,...a):a[0].stack),r.stack,we.stackTraceLimit=o,we.prepareStackTrace=n,i}var{getMethodName:RI,getFileName:PI,getLineNumber:hI,getColumnNumber:II}=Li&&cc?cT(0,10)[0].constructor.prototype:d();function vI(e){let t=cT(e);return M(t,o=>[s(RI,o)||"",s(PI,o)||"",s(hI,o)||-1,s(II,o)||-1])}async function CI(e){let[t,o,r,n,i]=Oo(e,/[@:]/g);return[t,o+r,+n,+i]}var OI=e=>e?Uo(M(qe(Pe(e,`
`),0,-1),t=>CI(t))):If([]),Hi=async e=>cc&&"prepareStackTrace"in we?vI(e):Du?OI(new we().stack):[],pT=e=>(Yc||Du)&&Ee(e,t=>Rt(t[1]||"",`${Yc?"chrome":"moz"}-extension`));var lT,uT,_I=(uT=(lT=Un)==null?void 0:lT[S])==null?void 0:uT.getAll,mT,dT,NI=(dT=(mT=Un)==null?void 0:mT[S])==null?void 0:dT.delete,Fu=[],tp=bi&&le([]);var Gu=le(),nT=(e,t)=>{let o=ce(Gu,e);o?J(o,t).size>WE&&My(o,s(gl,Le(o)).value):ae(Gu,e,ue([t]))},Cs=(e,t)=>typeof e<"u"&&e!==null?`;${t}=${e}`:"",kr=(e,t=!1)=>{let{expires:o,domain:r,path:n,maxAge:i,secure:a,sameSite:p}=e;return`${lr(e,t)}${Cs(r,"Domain")}${Cs(n,"Path")}${typeof o=="number"?Cs(Zg(new Date(o)),"Expires"):""}${Cs(i,"Max-Age")}${Cs(p,"SameSite")}${a?";Secure":""}`},fT=(e,t)=>{if(e&&t)for(let o of v(Re(t)?t:M(We(t),([r,n])=>({cookie:r,purposes:n,hosts:[]})))){let{cookie:r,regex:n,hosts:i}=o,a=_s(o.purposes),p=n&&typeof r=="string"?new Io(r):r;B(Io,p)&&y(Fu,[p,B(Io,r)?s(Kn,p):r]),y(e,d(_({cookie:p,purposes:a},i&&{hosts:ue(i)})))}},Os=class extends Zo{constructor(t){super(),fT(this,t)}};gt(Os);var op=new Os,gT=(e,t)=>{for(let o of v(t)){let r=o.cookie,n=Bt(e,({cookie:i})=>i===r);~n?yt(e,n,1,o):y(e,o)}h&&g.log("Cookie purpose map",M)},yT=()=>{fT(op,ST)};var qu=e=>`${e.name||e.value||""}`,MI=({expires:e,maxAge:t})=>typeof e=="number"&&e<=Jt()||typeof t<"u"&&+t<=0,Gi=(e,t=!0)=>{let o=lr(e);if(Wt&&ke(vs,o))return ce(vs,o);let r=new ye;if(MI(e))J(r,So);else{let n=qu(e),{domain:i}=e,a=ve(op,({cookie:p,hosts:c})=>(typeof p=="string"?p===n:Ge(p,GE?o:n))&&(!c||i&&pr(Me(c),i)));if(a.length)for(let{purposes:p}of v(a))for(let c of Le(p))J(r,c);else J(r,wt)}return t&&h&&g.log(`Purposes for cookie: ${kr(e)}`,r),Wt&&ae(vs,o,r),r},ET=async(e,t=!0)=>Gi(e,t),xI=e=>{let t,o;return typeof e>"u"||e==="/"||(o=Yt(e,t=Ei("href").href),o&&Rt(t,he(o,"href").href))},LI=!!(Xe&&tr),Is=(e,t=!0)=>{let o=Ct||e.allowed;if(t){if(Xe&&o&&y(po,e),at){if(!LI||!o||!xI(e.path))qi(e);else if(bi&&Se(e.purposes,wt)){let r=Hi();ae(tp,e.name,r),s(qt,P,()=>Ko(tp,e.name),rE)}}if($o.length){let r=Fi(e);for(let n of v($o))n(r)}}return o},rp=async(e,t=!0)=>Is(e,t),np=e=>{Xe&&y(po,e),s(Bo.set,ee,kr(e))},DI=async()=>{if(tr)return s(_I,tr);let e=s(Bo.get,ee);return e?M(Pe(e,"; "),t=>ki(t)):[]},Vu=async e=>{e.expires=Jt();let t;zc&&!e.domain&&(t=ce(Gu,e.name))?x(t,o=>s(Bo.set,ee,`${kr(e)}${Cs(o,"Domain")}`)):tr?await s(NI,tr,e):s(Bo.set,ee,kr(e))},TT=async e=>{let t=await DI();await Uo(M(t,o=>{let r=new Lt({name:o.name,value:"",domain:o.domain,expires:o.expires,path:o.path},!1,!1);if(e(r))return Vu(r)}))},AT=e=>TT(e),wr=()=>TT(e=>!Is(e,!0));var bI=[],kI=/^\s*(?:(?:(?:text|application)\/(?:html|xml))|\/\\S*\+xml)\s*(?:$|;)/i,Bu=(e,t)=>{let{allowed:o,target:r,type:n,URLs:i,urls:a,url:p,mutator:c}=e;if(!o){e.mutator=()=>{e.mutator=c,Bu(e,t)},pe(e);return}let l=n==="DOM:view"&&jt(r)&&io(r);if((l||n==="open")&&To(i,m=>{if(!m)return!1;let{origin:f}=he(m,"origin");return f===null||f===qo})){let m=t!=="async",f=l&&No(r)==="IFRAME",E=new kt,O=(b=s(Bl,E,"Content-Type"))=>{let Y=m?s(Dg,Lg,s(hy,E),b):s(Py,E),L=Y&&B(Y,Xd),W=m?b:`text/${L?"ht":"x"}ml`,Z=Y&&s(Qe,Y),re=Y&&s(uy,Y);if(Z){Yu(P,d({insertion:Y,target:Y,static:!0,mutator:ds}),Y,Y);let Ce="uiAllowInEmbeds",ne=to("script");s(Xt,ne,"src",ao),gc(V,ne);let Be=ar(ne);Be[Ce]||(Be[Ce]=fe),Be.baseUrl=Tt(p,"href").href,s(pi,Z,ne,s(Xn,Z));let ot=to("base");s(Xt,ot,"href",p),s(pi,Z,ot,ne);let lt=`${re?_o(re):""}${L?s(di.get,Z):_o(Z)}`;if(f){e.deny();let{mutator:Je}=e;Je&&s(Je,e),s(rc.set,r,lt)}else{let Je=ts(new kn([lt],{type:W}));y(bI,Je);let{length:ct}=a;for(;ct--;)a[ct]=Je}}},N=()=>{let b=s(ic,E);if(b>=Sy){let Y=s(Bl,E,"Content-Type");Ge(kI,Y)||(s(Vo,E,"readystatechange",N),s(Ay,E),c==null||c()),b===Ry&&O(Y)}};m||(s(Iy,E,"document"),s(addEventListener,E,"readystatechange",N)),s(nc,E,m?"GET":"HEAD",p,!m),s(sc,E),m&&O()}};var Qo=(...e)=>U(Gd,P,e),RT=e=>{let t="fetch",o=e[t];o&&(e[t]=async function(...r){let[n,i]=r,a=this,p=()=>U(o,a,r);if($())return p();let c=B(Xp,n)?s(Ty,n):`${n}`,l=d({type:t,url:c,persist:!0,requestInit:cu(i)}),u=new j(typeof n=="string"?l:_(_({},cu(n)),l)),m=u.serialize(),f=()=>(c!==m&&(r[0]=m),p());return await Tn(u)?f():new Ne(E=>{let O=()=>{E(f())};u.mutator=O,pe(u)})})};var Ku=yi(),wI=(e,t)=>(is(Ku,e,t),t),UI=e=>_y(Ku,e)?an(Ku,e):null,Wu=!1,sp=e=>{Wu=!0;let t=new kt;return s(nc,t,"GET",e,!1),s(sc,t),Wu=!1,t},PT=e=>{let{XMLHttpRequest:t}=e;if(t){let o=t[S],{open:r,send:n,OPENED:i}=o,a=G(t,"withCredentials");o.open=function(...p){let c=this,[l,u,m]=p,f=new j({type:"xhr",url:u,requestInit:{method:l},omitCredentials(){var N;return s(a.set,c,!1),((N=this.requestInit)!=null?N:this.requestInit=d()).credentials="omit",!0}}),E=f.serialize();`${u}`!=`${E}`&&(p[1]=E);let O=Wu?!1:!te(f);return wI(c,d({url:E,method:l,async:m,blocked:O})),U(r,c,p)},o.send=function(...p){let c=this,l=()=>U(n,c,p),[u]=p,m=UI(c);if(!m||!m.blocked&&s(ic,c)!==i)throw new Qd("The XMLHttpRequest object's state must be OPENED.","InvalidStateError");let{url:f,method:E,async:O,blocked:N}=m,b=new j({type:"xhr",url:f,requestInit:{method:E},persist:!0});if(u!==null&&typeof u<"u"&&Zt(`${E}`)==="POST"&&(b.requestInit.body=jt(u)&&jn(u)?_o(u):u),N){O?(b.mutator=()=>(m.blocked=!1,l()),pe(b)):(h&&g.log("Synchronous XMLHttpRequest quarantined (unable to replay in-place)"),pe(b));return}return l()}}};var hT=gt(Bc||bu&&+bu<14?class{constructor(){let e=s(za,es,"","");return ou(e,Ut)}}:class extends tl{constructor(...e){super(...e),ou(this,Ut)}});var ip=new hT,IT="consent-resolution",vT="consent-change",CT="sync",OT=[],_T=()=>{for(let[e,t]of v(OT))s(Rl,ip,new jp(e,{detail:t}))},zu=(e,t)=>{NT()?s(Rl,ip,new jp(e,{detail:t})):y(OT,[e,t])},Vi=(e,t,o,r,n)=>{zu(e,{oldConsent:t,consent:o,changes:r,signals:n})};var HI=e=>{let{[Oc]:t,[_c]:o,[Nc]:r}=e||d();return d({[Oc]:t&&new mr(t),[_c]:o,[Nc]:r&&new mr(r)})},MT=e=>{let{[mu]:t,[du]:o}=Pt(e,()=>d());return d({[mu]:HI(t),[du]:new Os(o)})},GI=e=>{Ve&&e.code!==e.ABORT_ERR&&g.error("Error fetching policies",e)},$u=le(),Qu=le(),FI=e=>{let t=ce(Qu,e);return t||MT(sp(e).responseText)},qI=async(e,t)=>{let o=ce(Qu,e)||ce($u,e);if(o)return o;let r=new Ne(async(n,i)=>{let a=await s(_t,s(_t,Qo(e,{signal:t}),GI),i);if(a&&a.body){let p=MT(await s(_t,s(ja,a),i));ae(Qu,e,p),Ko($u,e),n(p)}});return ae($u,e,r),r},xT=(e,t=null)=>{let{dataflows:o,cookies:r}=e;if(o){let{[Oc]:n,[_c]:i,[Nc]:a}=o;if(n&&ap(Ur,n),i)for(let p of v(i))Yi(p,dr,Rn,!0);Ts&&a&&(ap(Sn,a),An())}r&&(gT(op,r),wr()),h&&g.log("Policies loaded:",e),zu("policy-update",{url:t,rules:e}),Bi()},LT=async e=>{xT(await qI(e),e)},DT=e=>{xT(FI(e),e)};var VI=e=>{let t=s(Ll,ee)||s(mi,ee)||s(on,ee)||s(Xn,s(Qe,ee));t?Xg(t,e):s(Jr,s(Qe,ee)||ee,e)},bT=le(),Ns=(...e)=>{Ee(e,({kind:r})=>r===oE)&&kT();let t=V.loadPoliciesSync===it,o=[];for(let{url:r,id:n=r,name:i,type:a,kind:p,sync:c=t&&p===uu}of v(e)){let l=ce(bT,n),u=l||new Ne((m,f)=>{let E=Yt(`${r}${Ci}`,ao);if(!E){f();return}let O=he(E,"href").href;if(h&&g.log(`Loading ${i?`${i} from ${O}`:O}`),p===uu){let N=(c?DT:LT)(O);m(N)}else if(I){let N=to("script");gc(V,N),a&&(N.type=a),N.defer=N.async=!!c,N.crossOrigin="anonymous",N.src=O;let b=()=>{s(Vo,N,"error",Y),m()},Y=()=>{f(),s(Vo,N,"load",b)};s(He,N,"load",b,Mc),s(He,N,"error",Y),VI(N)}else ol?ol(O):Promise.resolve().then(()=>Ed(require(O)))});l||ae(bT,n,u),y(o,u)}return Uo(o)};var{regime:ju,defaultRegime:wT,regimeDetection:Xu}=V,BI="ip-only",YI="heuristics-only",Ki,em=()=>{var o;if(typeof Ki<"u")return Ki;let{country:e,countryRegion:t}=om||d();if(e||t)return Ki=[e,t];if(cr){let r=((o=H)==null?void 0:o.regimeHints)||"regime-hints.json",n=Yt(r,ao);if(!n)return null;let i=he(n,"href").href;try{let{country:a,countryRegion:p}=Pt(sp(i).responseText);return!a&&!p?null:Ki=[a,p]}catch(a){Ve&&g.error("Failed to request regime hints:",a)}}return Ki=null},Hr,Ju=null,Zu=(e,t)=>{var o,r;return ju&&!t||e!==pu&&cp&&!((r=(o=st(pp,([n])=>Ee(n,i=>e===i)))==null?void 0:o[1])!=null&&r.length)?!1:(J(Hr,e),!0)},KI=(e,t)=>e===t||Ee(BT,([o,r])=>o===e&&w(r,t)||o===t&&w(r,e)),UT=e=>{let t=Oo(e,/\s*;\s*/);return Ee(M(t,o=>Zu(o,!0)),o=>o)},GT=!1,kT=()=>{GT=!0},FT=()=>GT,HT,qT=()=>{if(!HT){HT=!0;let e=Xo();for(let{1:t,5:o,6:r,7:n}of v(rm))if(ut(v(t))||Ee(t,i=>Se(e,i))){if(n)for(let[i,a]of We(n))V[i]=a;!Ju&&typeof r=="string"&&(Ju=r),o&&Ns(...o)}}},Xo=()=>{if(Hr)return Hr;if(Hr=ue(),cr){let{tcmRegime:e}=rt;if(e&&(h&&g.log(`Using regime override: ${e}`),UT(e)))return Hr}if(ju)UT(ju);else if(Xu!==fe){let e,t=()=>(e||(e=s(ay,s(wl,rl)).timeZone),e),o=a=>ui&&Ee(s(ui,er),p=>Ee(a,c=>St(Zt(p),Zt(c)))),r=a=>ui&&Ee(s(ui,er),p=>Ee(qe(Pe(p,"-"),1),c=>w(a,Zt(c)))),[n,i]=em()||[];for(let[a,p,c,l,u]of v(rm)){let m=Xu!==YI&&n&&Ee(a,([f,E])=>KI(n,f)&&(!E||i===E))||Xu!==BI&&((Re(l)?o(l):l&&Ee(a,([f])=>f&&r([f])))||Re(u)&&Ee(u,f=>St(t(),f)));if(c!=="out"?m:!m)for(let f of v(p))Zu(f)}}return ut(Le(Hr))&&(!wT||!Zu(wT))&&J(Hr,pu),Hr},VT=()=>Ju,tm=(e,t=Xo())=>{let o=ue();for(let[r,n]of v(e))for(let i of Le(t))if(w(r,i))for(let a of v(n))J(o,a);return o};var YT="importScripts(",KT="await import(",WT="application/ecmascript",WI=e=>`data:${WT},${s(go,P,e)}`,zI=e=>ts(new kn([e],{type:WT})),zT=({type:e,urls:t})=>{if(e&&$l(e,"worker")){let o=$l(e,"module-worker"),r=Rt(e,"shared-"),{length:n}=t,i=Ue(ao);for(;n--;){let a=d(V);a.regime=Ae(Me(Xo()),";"),a.airgap=ao;let p=Tt(t[n],"href").href;a.baseUrl=p;let c=`self.airgap=${Ue({loadOptions:a})};`,l=Ue(p),u=o?`${c}${KT}${i});${KT}${l})`:`${c}${YT}${i});${YT}${l})`;t[n]=(r?WI:zI)(u)}}};var $T=st(Ii,([e])=>e==="nav"),$I=st(Ii,([e])=>e==="worker"),QT=e=>{$T&&Bu(e,$T[1]),$I&&zT(e)};var nm=[uE,Dc,kc,bc],QI=[Lc,fs],XI=[wc],sm=qe(mt(nm,XI,QI),0,-1),XT=mt(qe(sm,2),fs),im="ad_user_data",am="ad_personalization",cm="ad_storage",pm="analytics_storage",lm="functionality_storage",um="personalization_storage",mm="security_storage",jT="Analytics",lp="Advertising",up="Functional";var JT=[],mp,ZT=()=>{mp==null||mp()},jI=e=>{let t=[],o=Rs?e===dn?sm:e?xt(e):XT:[];return x(o,r=>{let n=sn(r,":");if(~n){let i=eo(r,0,n),a=eo(r,n+1),p=M(Pe(a,";"),c=>Pe(c,"="));y(t,[i,p])}else y(t,[r])}),t},eA=e=>{var ct;let t=jI(e),o=/^(www\.)?youtube\.com$/,r=/(?:^|.*\.)facebook\.com$/,n=/(?:^|.*\.)doubleclick\.net$/,i=(se,Oe)=>st(se,([z])=>z===Oe),a=!!i(t,bc),p=i(t,Lc),c=p==null?void 0:p[1],l=i(t,fs),u=l==null?void 0:l[1],m=!!(u&&st(u,([se])=>se==="strict")),f=!!i(t,Dc),E=!!i(t,kc),O=!!i(t,wc),N=l&&((ct=st(l,([se])=>se==="mode"))==null?void 0:ct[1]),b=N==="fb-auto",Y=N==="off";h&&g.log(`Privacy-enhancing tracker overrides activated: ${Ae(M(t,([se])=>se),", ")}`);let L=se=>se?"granted":"denied",W=!1,Z=null,re={},Ce=()=>{var R;if(!p)return;let se=(R=P).dataLayer||(R.dataLayer=[]);function Oe(){se.push(arguments)}let z=(C,K=Gc)=>{var oe;let F=c&&((oe=st(c,([me])=>me===C))==null?void 0:oe[1]);return F===it||F!==fe&&je(ue(Pe(F||K,",")))},Q={[cm]:L(z(cm,lp)),[im]:L(z(im,lp)),[am]:L(z(am,lp)),[pm]:L(z(pm,jT)),[lm]:L(z(lm,up)),[um]:L(z(um,up)),[mm]:L(z(mm,up))};if(!ln(Ze(Q),re,Q))return;re=Q;let T=[["consent",W?"update":"default",re]],A=!z("ads_data_redaction","SaleOfInfo");(A&&Z===null||Z!==null&&A!==Z)&&(Z=A,y(T,["set",{ads_data_redaction:A}])),x(T,C=>{Oe(...C)}),W=!0},ne={enumerable:!0,configurable:!0},Be=!1,ot=()=>{if(!l)return;let se=z=>{z("dataProcessingOptions",["LDU"],...Y?[]:[b?0:1,b?0:1e3])},{fbq:Oe}=P;B(Zs,Oe)&&(Oe!=null&&Oe.queue)?se(Oe):ze(P,"fbq",_({get:ds,set:z=>{ze(P,"fbq",xe(_({value:z},ne),{writable:!0})),ze(z,"queue",_({get:ds,set:Q=>{ze(z,"queue",xe(_({value:Q},ne),{writable:!0})),Q&&se(z)}},ne))}},ne)),Be=!0},lt=!1,Je=()=>{if(!O)return;let se=Oe=>{y(Oe,{id:"_all",options:{doNotTrack:!0}})};x(["_wq","_wcq"],Oe=>{let{[Oe]:z}=P;Re(z)?se(z):ze(P,Oe,_({get:ds,set:Q=>{Re(Q)&&se(Q),ze(P,Oe,xe(_({value:Q},ne),{writable:!0}))}},ne))}),lt=!0};return(mp=()=>{Ce();let se=ue();J(se,Gc),je(se)||(Be||ot(),lt||Je())})(),Ee(t,([se])=>w(nm,se))?[d({unconsented:[Gc],override:se=>{let{URLs:Oe}=se,z=Oe.length;for(let Q=0;Q<z;Q++){let ge=Oe[Q];if(ge){let T=he(ge,"hostname","pathname","href","searchParams"),{hostname:A,pathname:R,searchParams:C}=T;if(a&&Ge(o,A)&&(Rt(R,"/embed/")||Rt(R,"/s/player/"))){T.hostname=Et(A,o,(K,F)=>`${F||""}youtube-nocookie.com`),se.urls[Q]=T.href;return}if(f&&Ge(n,A)){s(Vt,C,"rdp","1"),se.urls[Q]=T.href;return}if(m&&Ge(r,A)){s(Vt,C,"dpo",Y?"":"LDU"),Y||(s(Vt,C,"dpoco",b?"0":"1"),s(Vt,C,"dpost",b?"0":"1000")),se.urls[Q]=T.href;return}E&&A==="player.vimeo.com"&&Ge(/^\/video\/\d+\/?$/,R)&&(s(Vt,C,"dnt","1"),se.urls[Q]=T.href),O&&A==="fast.wistia.net"&&Rt(R,"/embed/iframe")&&(s(Vt,C,"doNotTrack","true"),se.urls[Q]=T.href)}}}})]:[]};var Ms=[],dm=e=>{if(Re(e.unconsented)){let t=e;t.unconsented=ue(e.unconsented)}},tA=[],oA=()=>{Re(dp)&&(x(dp,dm),y(Ms,...dp)),Rs&&(y(tA,...eA(VT()||V.trackerOverrides||"")),x(tA,dm))},rA=(e,...t)=>{if(!Ro(e,!1))throw new we(Wo("override"));for(let r of v(t))dm(r),y(Ms,r);return h&&g.log(`Request override${t.length>1?"s":""} registered:`,t),{remove:()=>{for(let r of v(t)){let n=Bt(Ms,i=>i===r);~n&&yt(Ms,n,1)}}}},fp=e=>{if(Ms.length)for(let{unconsented:t,matcher:o,override:r}of v(mt(Ms,JT))){if(t&&je(t,oo))continue;let n=typeof o=="string"?new Io(o):o;if(typeof r!="string"){let i=sA(e);r(i,n);continue}if(typeof n<"u"){let{URLs:i}=e,a=i.length;for(let p=0;p<a;p++){let c=i[p],l=c?he(c,"href").href:`${e.urls[p]}`;Ge(n,l)&&(e.urls[p]=Et(l,n,r))}}}gp(e)&&(e.omitCredentials()||e.deny()),Oi&&QT(e)},nA=(e,t=!0)=>Pn({type:Ut,url:e},t).serialize();var Wi,zi,xs,$i,Ls,Qi,yp,j=class{constructor({type:t,url:o,persist:r,serialize:n,omitCredentials:i,requestInit:a,mutator:p,target:c,timestamp:l=$e()},u=!0,m=!0){Ye(this,Wi,void 0);Ye(this,zi,void 0);Ye(this,xs,null);Ye(this,$i,void 0);Ye(this,Ls,void 0);Ye(this,Qi,void 0);Ye(this,yp,void 0);q(this,"allow",()=>{this.allowed=!0});q(this,"deny",()=>{this.allowed=!1});q(this,"type");q(this,"persist");q(this,"urls",ze([],0,{enumerable:!0,configurable:!1,get:()=>this.url,set:t=>{this.url=t}}));q(this,"URLs",[]);q(this,"timestamp");q(this,"target");q(this,"requestInit");q(this,"mutator");q(this,"serialize",()=>Ie(this,Ls)?Ie(this,Ls).call(this):this.url);q(this,"omitCredentials",()=>{var t,o;return(o=Ie(this,yp))!=null?o:_e(this,yp,Ep(this)&&(((t=Ie(this,Qi))==null?void 0:t.call(this))||Ds(this)))});q(this,"toJSON",()=>{let{type:t,url:o,requestInit:r,timestamp:n}=this;return{type:t,url:typeof o=="string"?o:`${o}`,requestInit:Xc(r),timestamp:n}});_e(this,Wi,m),this.type=t,this.url=o,this.persist=r,this.mutator=p,this.target=c,this.requestInit=a,this.timestamp=l,n&&_e(this,Ls,n),i&&_e(this,Qi,i),u&&fp(this)}get purposes(){var t;return(t=Ie(this,xs))!=null?t:_e(this,xs,ji(this,Ie(this,Wi)))}set purposes(t){if(!B(ye,t))throw new fo("PendingEvent.purposes must be a Set");let o=Ie(this,xs);o===null?_e(this,xs,o=new ye):Yo(o);for(let r of Le(t)){if(typeof r!="string")throw new fo("Tracking purposes must be strings");J(o,r)}}get allowed(){var t;return(t=Ie(this,$i))!=null?t:je(this.purposes,oo)}set allowed(t){if(t!==null&&typeof t!="boolean")throw new fo("Pending event allow/deny state must be true, false, or null");_e(this,$i,t)}get url(){return Ie(this,zi)}set url(t){_e(this,zi,t),this.URLs[0]=Yt(t)}};Wi=new WeakMap,zi=new WeakMap,xs=new WeakMap,$i=new WeakMap,Ls=new WeakMap,Qi=new WeakMap,yp=new WeakMap;gt(j);var Xi=e=>new j(e,!1);var JI=async e=>{if(Qy(e)&&St(e.originalPolicy," airgap://test ")){let t=e.blockedURI,o=new j({type:"CSPV",url:t,persist:!0});at&&In(o,!1);let[r]=o.URLs;if(r){let{protocol:n}=he(r,"protocol");if(!Xe&&(n==="wss:"||n==="ws:"))return;h&&g.log("Caught network event via CSP:",t),pe(o)}}},aA=!1,gm=!1,fm=!0,ym=()=>gm&&!fm,cA=(e=!1)=>(ym()&&(dt&&g.warn(`CSP already active. Reload${e?"ing":""} page for changes to take effect${e?"\u2026":"."}`),e&&zn()),gm),ZI=(e,t,o,r,n)=>{let i=` 'unsafe-inline' 'unsafe-eval';
${Es()?"":"script-src * 'unsafe-inline' 'unsafe-eval' data: blob:;"}`;if(e||t){let a=ue();if(e&&Nt(e))for(let[c,l]of vt(e)){let u=_s(l);(!o&&n&&!Se(u,wt)||je(u,oo))&&(J(a,c),!o&&r&&St(c,".")&&!St(c,dn)&&!St(c,":")&&J(a,`*.${c}`))}if(t&&Nt(t))for(let[c,l]of vt(t))(n||je(_s(l),oo))&&J(a,c);let p=Ae(Me(a)," ");return`default-src ${Mu} ${p}${i}`}return`default-src ${Mu}${i}`},ev=(e,t,o)=>ZI(Ur,Sn,e,t,o),tv=(e,t,o)=>{if(!o&&fm&&(fm=!1),cA())return;let r=ev(e,t,o);return aA=!0,h&&g.log(`CSP initialized:
`,r),r},ov=(e,t,o)=>{s(He,P,"securitypolicyviolation",JI);let r=to("meta");r.httpEquiv="Content-Security-Policy",r.content=e;let n=s(on,o),i=n||s(Jr,s(Qe,o),to("head"));Zr(s(Jr,i,r)),n||Zr(i),gm=!0,h&&g.log(`CSP activated (${Ae(t,", ")})`)},iA=ue(),An=(e=xi,t=ee)=>{let o=Se(iA,t);if(!t)for(let[l]of Me(hn))An(e,l),J(iA,l);let r=!w(e,fe);if(!o&&!r){h&&g.log("CSP disabled");return}let n=w(e,"allow-subdomains"),i=w(e,"allow-known-hosts"),a=r&&w(e,"strict")||!(n||i),p=sr(t,'meta[http-equiv="Content-Security-Policy"]'),c=l=>{cA(!0)||l&&ov(l,e,t)};if(!aA){let l=tv(a,n,i);c(l)}};var bs,fr=class{constructor(t){Ye(this,bs,void 0);q(this,"getNode",()=>{let t=Ie(this,bs);if(t===null)throw new ei(Ji);return t});q(this,"getLiveNode",this.getNode);q(this,"release",()=>{_e(this,bs,null)});_e(this,bs,t)}};bs=new WeakMap;gt(fr);var pA=(e,t,o)=>{if(!($()||Tp()))for(let r of v(ks(e))){let{handleLiveMutation:n,tagNames:i,attribute:a,condition:p}=r;if(n&&io(o)&&w(i,No(o))&&a!==null&&s(Va,o,a)&&(p===null||p(o))){let c=new fr(o);n(r,t,c)}}},lA=e=>new il(t=>{if(Tp()){fA();return}for(let o of v(t)){if(Tp())return;let{type:r,target:n,addedNodes:i}=o;Gr(n)&&(r==="attributes"?pA(e,o,n):r==="childList"&&x(i,a=>{pA(e,o,a)}))}}),Zi=le(),Em=!1,uA=(e,t)=>{ae(Zi,e,t),s(Ig,e,t,{childList:!0,attributes:!0,attributeOldValue:!0,subtree:!0}),Em=!0},Tm=(...e)=>{for(let t of v(e))ke(Zi,t)&&(s(vg,t),Ko(Zi,t));Em=Nt(Zi)!==0},mA=e=>{let t=[];return x(Zi,([o,r])=>{s(qg,r,e)&&y(t,o)}),t},dA=()=>Em;var ea=!1,Tp=()=>ea,fA=()=>{ea=!1},tt=(e,t)=>{if(ea)return t(e);ea=!0;let o=t(e);return dA()||(ea=!1),o};var gA=gr||Dt,yA=(e,t)=>{e.airgapId=t},EA=e=>{delete e.airgapId},rv=0,ta,Fr,vn,Cn=class{constructor(t){Ye(this,ta,void 0);Ye(this,Fr,void 0);Ye(this,vn,null);q(this,"getNode",()=>{let t=Ie(this,Fr);if(t===null)throw new ei(Ji);return t});q(this,"getLiveNode",()=>{let t=Ie(this,vn);if(t)return t;let o=Ie(this,Fr);if(o===null)throw new ei(Ji);if(o&&s(It,o)!==ee){h&&g.log("Converting quarantined mutation from proxy document");let r=sr(ee,`[data-airgap-id="${Ie(this,ta)}"]`);if(r!==null)return _e(this,vn,r),h&&g.log("Found corresponding node",r),r;dt&&g.warn("Unable to locate corresponding node from quarantined mutation in proxy document")}return o});q(this,"release",()=>{let t=Ie(this,Fr),o=Ie(this,vn);if(o!==null){let r=ar(o);gA&&(Gr(s(It,t))?tt(o,()=>{EA(r)}):EA(r)),_e(this,vn,null)}if(t&&s(It,t)!==ee){let r=s(It,t);r&&s(Qe,r)&&s(Gl,s(Qe,r))&&s(mg,r,s(Qe,r))}_e(this,Fr,null)});let o=ar(t),r=o.airgapId||`${rv++}`;_e(this,ta,r),_e(this,Fr,t),gA&&(s(Gl,t)&&Gr(s(It,t))?tt(t,()=>{yA(o,r)}):yA(o,r))}};ta=new WeakMap,Fr=new WeakMap,vn=new WeakMap;gt(Cn);var TA=e=>e&&(B(Cn,e)||B(fr,e));var Sp=()=>V.uspapi===it,vA=()=>V.tcf===it,Ap=`__${eE}`,oa=`__${tE}`,CA="Locator",nv=`${Ap}${CA}`,sv=`${oa}${CA}`,Am=()=>{let[e]=em()||[],t=e==="US",{confirmed:o,prompted:r,purposes:n}=Ot(),{SaleOfInfo:i}=n;return`1${t?o||r?"Y":"N":"-"}${t?i?"N":"Y":"-"}${Ou==="yes"?"Y":Ou==="no"?"N":"-"}`},iv=(e,t)=>{let o=s(tn,e),r=!!e[t];if(!r){let n=to("iframe");n.style.display="none",n.name=t,(s(Qe,o)||o).appendChild(n)}return!r},OA=(e,t,o)=>{e==="getUSPData"&&t&&t>=1&&typeof o=="function"&&o({version:1,uspString:Am()},!0)},AA=!0,SA=[],av=(...e)=>{let[t,o,r,n]=e;if(!t&&!o&&!r&&!n)return SA;let i=typeof r=="function";t==="setGdprApplies"?n&&o===2&&typeof n=="boolean"&&(AA=n,i&&r("set",!0)):t==="ping"&&i?r({gdprApplies:AA,cmpLoaded:!1,cmpStatus:"stub",gvlVersion:31}):y(SA,e)},RA=(e,t,o,r)=>{let{command:n,version:i,callId:a,parameter:p}=r;o(n,i,(c,l)=>{s(Bd,e,{[t+"Return"]:{returnValue:c,success:l,callId:a}},dn)},p)},PA="Call",hA,cv=e=>{var r,n;let{data:t,source:o}=ec(e,"data","source");if(o){let i=Sp()&&((r=t==null?void 0:t[`${Ap}${PA}`])!=null?r:null);i&&RA(o,Ap,OA,i);let a=vA()&&((n=t==null?void 0:t[`${oa}${PA}`])!=null?n:null);a&&RA(o,oa,P[oa],a)}},IA=(e,t,o,r,n)=>{let i=e,a,{ancestorOrigins:p}=Qr,c=p&&To(Me(p),l=>l===qo);for(;i;){if(c){if(i[r]){a=i;break}}else try{if(i[r]){a=i;break}}catch(l){}if(i===e.top)break;i=i.parent}a||(iv(e,r),e[o]=n,hA||(hA=!0,s(He,e,"message",cv))),h&&g.log(`IAB ${t} API integration active`)},_A=e=>{Sp()&&IA(e,"USP",Ap,nv,OA),vA()&&IA(e,"TCF stub",oa,sv,av)};function pv(e){return d(yo(ve(We(e),([,t])=>typeof t=="boolean")))}var NA=async(e,t,o)=>{let r=Sp()?Am():void 0,n=await s(_t,new Ne(c=>P.__gpp("getFullString",c)),()=>{}),i=un(o,ro,!1),a={purposes:yo(M(We(pv(i.purposes)),([c,l])=>[c,!!l])),usp:r,gpp:n,airgapVersion:ur,timestamp:i.timestamp,confirmed:i.confirmed,prompted:i.prompted,updated:i.updated,metadata:i.metadata};return s(Ir,s(_t,Qo(e,d({method:"POST",mode:"cors",body:Ue({token:t,partition:Kt||Rp,consent:a}),credentials:"omit"})),c=>{Ve&&g.error("Failed to sync remote consent",c)}),c=>{try{return s(ty,c)}catch(l){Ve&&g.error("Failed to parse response body",l)}})};var MA="9.8.2",xA="ConsentManager:Sync";var LA="fps";var lv,uv=()=>lv||(lv=qr.xdi.connect(br));async function DA(e,t,o){let r=await uv(),n=w(o,cn),i=w(o,Mo);return await r.run(xA,d(_(_({reset:t,sync:ve(o,p=>w(yn,p)),partition:Kt},!t&&n&&d({consent:e})),!t&&i&&d({quarantine:d(_(_({},Dt&&d({requests:M(ht,p=>p.toJSON())})),no&&d({cookies:M(zt,p=>p.toJSON())})))}))))}async function bA(e,t,o,r=!1){let{purposes:n,confirmed:i,timestamp:a,prompted:p,metadata:c,metadataTimestamp:l}=t,u=Ot(),m=r?u.metadata:c,f=r?u.metadataTimestamp:l;h&&g.log("Consent from sync: ",t),await ws(n,!!i,!!p,m,!1,a,!1,f)}function kA(e,t){let o=Re(e)?{requests:e}:e;t&&(nt(ht),nt(zt));let{requests:r,cookies:n}=o;Dt&&r&&y(ht,...M(Ec(ht,r),Xi)),no&&n&&y(zt,...M(Tc(zt,n),Pp))}var{syncPeriod:mv=1800,deferSync:dv}=V,Sm,HA=dv===it,wA=!1,Us=!1,UA=()=>{h&&g.log("Sync complete")},lo=async({sync:e=yn,reset:t=!1,backend:o=!0,local:r=!0,auth:n}=d())=>{if(n&&(Sm=n),At&&hp(At),co)return;h&&g.log("Consent sync queued"),zo&&(GA(),UA());let i=Ot(),{purposes:a}=i,p=_i&&o&&Sm&&i;Us&&(h&&g.log("Pending sync in progress..."),await Us);let c=!1,l=!1,u=async m=>{if(p){let f=m!=null?m:i,E=f.metadata?{metadata:{tcmp:f.metadata.tcmp}}:{},O=await NA(hi,Sm,_(_({},f),E));if(!O)return;let{purposes:N,confirmed:b,prompted:Y,timestamp:L}=O;await ws(N,!!b,!!Y,f.metadata,!1,L,!1),l=!0}};if(Us=new Ne(async m=>{if(br&&Lu&&!zo&&r&&!LE&&e.length){let{consent:f,quarantine:E}=await DA(i,t,e);Fc&&w(e,cn)&&f&&(await bA(i,f,t,!0),c=!0),Cu&&w(e,Mo)&&E&&(kA(E,t),c=!0),await u(c?f:void 0),Rm(!1),wA||(s(Hn,P,lo,+mv*1e3),wA=!0)}else await u();UA(),m()}),s(_t,Us,m=>{at&&Pm(m)}),await Us,c||l){let m=Ot(),f=ln(Me(jo),a,m.purposes);Vi(CT,i,m,f)}Us=!1};var ht=[],On=[],zt=[],ra=[],fv=()=>{(Dt||no)&&Rm()},FA=!1,gv=()=>{if(!FA){let{tcmQuarantine:e}=rt;if((Dt||no)&&e){let t=Pt(e,()=>[]);if(Re(t))Dt&&y(ht,...M(t,Xi));else{if(Dt){let{requests:o=[]}=t;y(ht,...M(o,Xi))}if(no){let{cookies:o=[]}=t;y(zt,...M(o,Pp))}}}h&&(Dt&&g.log(`Pending request queue: ${Ue(ht,null,2)}`),no&&g.log(`Pending cookie queue: ${Ue(zt,null,2)}`)),s(He,P,xc,fv)}FA=!0},VA=async(e,t)=>{if(t){let o=!1;try{h&&g.log("Applying mutation",e,t);let{target:r}=e,n=TA(r),i=n?r.getLiveNode():r;await tt(i,t),n&&r.release()}catch(r){o=!0,Ho(r)}return!o}return!1},yv=(e,t)=>{let o=!1;try{Qo(e,t)}catch(r){o=!0,Ho(r)}return!o},vm=()=>{nt(ht),nt(zt),xo||Hs(),delete rt.tcmQuarantine},Rm=async(e=!0)=>{if(Dt||no){let t=_(_({},Dt&&{requests:Ec(At?ru(ht,At):ht)}),no&&{cookies:Tc(At?ru(zt,At):zt)}),o=Ue(t);lc(o)>qE?(dt&&g.warn("Transcend Consent Manager replay queue is too large. Clearing queue."),vm(),!co&&e&&await Go(lo({sync:[Mo],reset:!0}))):rt.tcmQuarantine=o}},qA,pe=e=>{var a;if(!e.persist){if(!gr)return;y(On,e),h&&g.log("Quarantining mutation:",e);return}if(!Dt)return;let{type:t,urls:[o],mutator:r}=e,n=`${o}`;if(t!=="CSPV")qA=n;else if(n===qA)return;let i=!1;Rt(t,"DOM:")&&!((a=e==null?void 0:e.requestInit)!=null&&a.body)&&(i=Ee(ht,p=>n===p.url)),!i&&Dt?(y(ht,e),h&&g.log("Request added to queue:",e)):r&&gr&&y(On,e)},ep=e=>{let t=no&&e.persist,o=t||gr;t?y(zt,e):o&&y(ra,e),h&&o&&g.log("Quarantining cookie:",e)},Ev=async()=>{h&&g.log("Dispatching cookie queue");let e=[];gr&&y(e,ra),no&&y(e,zt),await Uo(M(e,async t=>{let o=[];await Uo(M(t,async(n,i)=>{if(At&&ls(n,At)){y(o,i);return}if(Is(n,!1)){h&&g.log("Cookie allowed",n),y(o,i);let{mutator:a}=n;if(a){await s(a,n);return}Ve&&g.error("Mutator missing",n)}else h&&g.log("Cookie not allowed",n)}));let r=o.length;for(;r--;){let n=o[r];yt(t,n,1)}}))},Tv=async()=>{if(h&&g.log("Dispatching non-persistent mutation queue"),!gr)return;let e=[];await Uo(M(On,async(o,r)=>{if(At&&ls(o,At)){y(e,r);return}if(te(o,!1)){y(e,r);let{mutator:n}=o;if(n){try{await VA(o,n)}catch(i){Ho(i)}return}Ve&&g.error("Mutator missing",o)}else h&&g.log("Mutation not allowed",o)}));let t=e.length;for(;t--;){let o=e[t];yt(On,o,1)}},Av=async()=>{h&&g.log("Dispatching persistent request and mutation queue");let e=[],t=ht.length;for(let r=0;r<t;r++){let n=ht[r],{URLs:[i]}=n;if(!i){y(e,r);return}let{href:a,protocol:p}=he(i,"href","protocol");if(p==="wss:"||p==="ws:"){if(Xe)return;y(e,r);return}if(At&&ls(n,At)){y(e,r);return}if(te(n,!1)){y(e,r);let{requestInit:c,mutator:l,type:u}=n;h&&(u!=="script"||l)&&g.log("Request or mutation allowed",n);let m=VA(n,l)||u!=="script"&&yv(a,c);Ve&&!m&&g.error("Unable to process request or mutation",n)}}let o=e.length;for(;o--;){let r=e[o];yt(ht,r,1)}},Im=!1,Sv=async e=>{if(await Ev(),ym()){e&&zn();return}await Tv(),await Av()},BA=(e=!1)=>{Im=!0,Sv(e)},hm=null,Bi=(e=!1)=>{hm===null&&(hm=s(Gn,P,()=>{BA(e),hm=null}))},YA=()=>new Ne(e=>{let t=async()=>{(Dt||no)&&gv(),!co&&!HA&&await Go(lo()),e(),Im||Bi()};Jn&&Jn(ee)!=="complete"?s(He,P,"load",async()=>{await t()},Mc):s(Gn,P,async()=>{await t(),Im||BA()})}),Rv=(e,t)=>{let o=[],r=e.length;for(let i=0;i<r;i++){let a=e[i];ls(a,t)&&y(o,i)}let n=o.length;for(;n--;){h&&g.log("Removing expired event from quarantine",e[o[n]]);let i=o[n];yt(e,i,1)}return e},hp=(e=At)=>{x([ht,zt,On,ra],t=>{Rv(t,e)})};var KA=({CookieStore:e})=>{if(e){let t=e[S],{set:o}=t;t.set=async function(...r){let n=()=>U(o,this,r);if($())return n();let i=()=>(Xe&&y(po,a),Jc()&&r.length<=1?r[0]=a.toJSON():(r[0]=a.name,r[1]=a.value),n()),a=new Lt(xe(_({},r.length<=1?r[0]:{name:r[0],value:r[1]}),{mutator:i}));return await rp(a)?i():new Ne(p=>{a.mutator=()=>p(i()),ep(a)})}}};var WA=e=>{rT(e),KA(e),h&&g.log("Cookie regulation active")};var Ht=(e,t)=>new _a("airgap-block",{blockedURI:t,documentURI:cs(),disposition:"enforce",effectiveDirective:`${e} blocked by Transcend Consent Manager`,originalPolicy:"",violatedDirective:"",statusCode:0});var zA=e=>{let{Navigation:t}=e;if(t){let o=t[S],{navigate:r}=o;o.navigate=function(...n){let i=this,a=()=>U(r,i,n);if($())return a();let[p]=n,c=new j({type:"navigation",url:p,mutator:a,persist:!1}),l=`${c.serialize()}`;if(`${p}`!==l&&(n[0]=l),!te(c))throw c.mutator=a,pe(c),Ht("navigation.navigate()",p);return a()}}};var Pv=e=>{zA(e)},hv=e=>{let{navigation:t}=e;if(!t)return;let o=Co(e.NavigateEvent[S]),r=Co(e.NavigationDestination[S]),{navigate:n}=t;s(addEventListener,t,"navigate",i=>{if($())return;let{destination:a,info:p}=o(i,"destination","info"),{url:c}=r(a,"url"),l=new j({type:"navigation",url:c,persist:!1}),u=l.serialize(),{allowed:m}=l;if(!m||`${u}`!=`${c}`){s(Ha,i);let f=()=>s(n,t,u,{info:p});if(m){f();return}l.mutator=f,pe(l)}}),h&&g.log("Navigation control initialized")},$A=e=>{Pv(e),hv(e)};var QA=e=>{let t="EventSource",o=e[t];o&&(e[t]=class extends o{constructor(...r){if($()){super(...r);return}let[n]=r,i=new j({type:"eventsource",url:n,omitCredentials(){var p,c;return((p=r[1])!=null?p:r[1]=d()).withCredentials=!1,((c=this.requestInit)!=null?c:this.requestInit=d()).credentials="omit",!0}}),a=i.serialize();if(te(i))`${a}`!=`${n}`&&(r[0]=a),super(...r);else throw Ht(t,a)}})};var XA=e=>{let t="importScripts",o=e[t];o&&(e[t]=(...r)=>{let n=()=>U(o,e,r);if($())return n();for(let i=0;i<r.length;i++){let a=r[i],p=new j({type:"script",url:a});if(!te(p))throw Ht(t,a);let c=p.serialize();`${a}`!=`${c}`&&(r[i]=c)}return n()})};var jA=e=>{let{Navigator:t}=e;if(t){let o="sendBeacon",r=t[S][o];r&&(e.Navigator[S][o]=function(...n){let i=this,a=()=>U(r,i,n);if($())return a();if(n.length){let[p,c]=n,l=new j(_({type:"beacon",url:p,mutator:a,persist:!0},c!==null&&typeof c<"u"&&d({requestInit:d({method:"POST",body:c})}))),u=`${l.serialize()}`;if(`${p}`!==u&&(n[0]=u),!te(l))return pe(l),!1}return a()})}};var Ip=_r(),Gs=e=>{if(Or(Ip,e))return!1;try{return e.location.href,ir(Ip,e),!0}catch(t){return!1}},Cm=e=>{let t=[],{frames:o}=e,r=o==null?void 0:o.length;if(r)for(let i=0;i<r;i++){let a=o[i];Gs(a)&&y(t,a)}let n=[e];if(xE){let{parent:i,top:a}=e;y(n,i,a)}for(let i of v(n))i&&Gs(i)&&y(t,i);for(let i of v(t))for(let a of v(Cm(i)))y(t,a);return t};var Iv=["_blank","_self","_top","_parent"],JA=e=>{let t="open",o=e[t],r=s(tn,e);o&&(e[t]=function(...n){let i=this,a=()=>{let m=U(o,i,n);return Gs(m)&&Lo(m),m};if($())return a();let[p,c]=n,l=new j({type:t,url:p,persist:!1}),u=()=>{let m=l.serialize();return`${p}`!=`${m}`&&(n[0]=m),a()};if(!qc&&(n.length<=1||w(Iv,c)||!sr(r,`[name=${Ue(c)}]`)||te(l)))return u();throw l.mutator=u,pe(l),Ht("open()",p)})};var ZA=e=>{let{ServiceWorkerContainer:t}=e;if(t){let o=t[S],{register:r}=o;o.register=function(...n){let i=()=>U(r,this,n);if($())return i();let[a]=n,p=new j({type:"service-worker",url:a}),c=p.serialize();if(`${a}`!=`${c}`&&(n[0]=c),te(p))return i();throw Ht("ServiceWorker registration",c)}}};var eS=e=>{let t="SharedWorker",o=e[t];o&&(e[t]=class extends o{constructor(...r){if($()){super(...r);return}let[n,i]=r,a=new j({type:`shared-${typeof i!="string"&&(i==null?void 0:i.type)===ms?`${ms}-`:""}worker`,url:typeof n=="string"?n:n.href,omitCredentials(){var l;let c=r[1];return typeof c!="object"&&(c=d(_({credentials:"omit"},typeof c=="string"&&d({name:c})))),r[1]=c,((l=this.requestInit)!=null?l:this.requestInit=d()).credentials="omit",!0}}),p=a.serialize();if(te(a))`${p}`!=`${n}`&&(r[0]=p),super(...r);else throw Ht(t,p)}})};var tS=e=>{let t="WebSocket",o=e[t];o&&(e[t]=class extends o{constructor(...r){if($()){super(...r);return}let[n]=r,i=new j({type:"websocket",url:typeof n=="string"?n:n.href}),a=i.serialize(),p="[native";if(te(i))`${a}`!=`${n}`&&(r[0]=a),super(...r);else throw Ht(t,a)}})};var oS=e=>{let t="Worker",o=e[t];o&&(e[t]=class extends o{constructor(...r){var p;if($()){super(...r);return}let n=`${r[0]}`,i=new j({type:`${((p=r[1])==null?void 0:p.type)===ms?`${ms}-`:""}worker`,url:n,omitCredentials(){var c,l;return((l=r[1])!=null?l:r[1]=(c=this.requestInit)!=null?c:this.requestInit=d()).credentials="omit",!0}}),a=i.serialize();if(te(i))`${a}`!==n&&(r[0]=a),super(...r);else throw Ht(t,a)}})};var rS=e=>{let{Worklet:t}=e;if(t){let o="addModule",r=t[S][o];t[S][o]=async function(...n){let i=()=>U(r,this,n);if($())return i();let[a]=n,p="module-worker",c=function(){var m,f;return((f=n[1])!=null?f:n[1]=(m=this.requestInit)!=null?m:this.requestInit=d()).credentials="omit",!0},l=()=>{let m=u.serialize();return`${a}`!=`${m}`&&(n[0]=m),i()},u=new j({type:p,url:a,omitCredentials:c});return await Tn(u)?l():new Ne(m=>{let f=()=>{m(l())};pe(new j({type:p,url:a,mutator:f,omitCredentials:c}))})}}};var nS=e=>{JA(e),RT(e),jA(e),ZA(e),eS(e),tS(e),oS(e),PT(e),rS(e),QA(e),XA(e)};var vv=V.protect,vp=_r(),Cv=e=>{Ny(Cp,e),pc(Ip,e),pc(vp,e),Ko(hn,s(tn,e))},sS=e=>{let t=!s(fy,e);return t||Cv(e),t},Lo=e=>{if(vv===fe){h&&g.log("Protection disabled");return}if(aS(),Or(vp,e))return;if(ir(vp,e),Ct||(HE&&(nS(e),I&&(An(xi,s(tn,e)),iS(e)),h&&g.log("Request regulation active")),Mi&&(WA(e),wr()),qc&&$A(e)),Xe&&e!==P&&Op(e),Oi){let o=Cm(e);x(o,Lo)}return d({remove:()=>{pc(vp,e)}})};var cS=[{type:"DOM:form",init:e=>{let{HTMLButtonElement:t,HTMLElement:o,HTMLFormElement:r,HTMLInputElement:n}=e,i=["POST","PUT","DELETE","PATCH"],a=(l,u,m=s(dy.get,l))=>{let f=s(tc.get,l),E=new j({type:"DOM:form-action",url:f,target:l}).serialize();f!==E&&s(tc.set,l,E);let O=w(i,Zt(m)),N=new ri(l),b=Tt(E,"href","search","pathname"),Y;return O?Y=E:(b.href=E,b.search=s(Wn,new so(N)),Y=b.href),new j({url:Y,type:"DOM:form",requestInit:_({mode:"no-cors",method:m},O&&!ut(s(vy,N))&&d({headers:d({"Content-Type":s(my.get,l)}),body:N})),target:l,mutator:u,persist:!0})};r[S].submit=function(...l){let u=this,m=()=>{U(Pl,u,l)},f=a(u,m);return te(f)?m():pe(f)},hl&&(r[S].requestSubmit=function(...l){let u=this,m=()=>U(hl,u,l),f=a(u,m);return te(f)?m():pe(f)});let p=Co(n[S]),c=Co(t[S]);return o[S].click=function(...l){let u=this,m=()=>U(qa,u,l),f=No(u)==="INPUT"?p:No(u)==="BUTTON"?c:null;if(!f)return m();let{type:E,form:O,formAction:N,formMethod:b="get"}=f(u,"type","form","formAction","formMethod");if(E==="submit"&&O){let Y=a(O,m,b),L=new j({type:"DOM:form-action",url:N,target:O}).serialize();if(N!==L&&s(tc.set,u,L),!te(Y))return pe(Y)}return m()},s(He,e,"submit",l=>{if(su(l))return!0;let u=l.target;if(u){let m=a(u,()=>s(Pl,u));if(!te(m))return s(Ha,l),s(eg,l),s(Zf,l),pe(m),!1}return!0}),na(e,[{type:"DOM:form-action",constructors:["HTMLButtonElement","HTMLInputElement"],property:"formAction",attribute:"formaction",safe:!0},{type:"DOM:form-action",constructors:["HTMLFormElement"],property:"action",safe:!0}])}}];var pS={empty:"data:text/plain,",video:"data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAAGm1kYXQAAAGzABAHAAABthBgUYI9t+8AAAMNbW9vdgAAAGxtdmhkAAAAAMXMvvrFzL76AAAD6AAAACoAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAABhpb2RzAAAAABCAgIAHAE/////+/wAAAiF0cmFrAAAAXHRraGQAAAAPxcy++sXMvvoAAAABAAAAAAAAACoAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAgAAAAIAAAAAAG9bWRpYQAAACBtZGhkAAAAAMXMvvrFzL76AAAAGAAAAAEVxwAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAABaG1pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAShzdGJsAAAAxHN0c2QAAAAAAAAAAQAAALRtcDR2AAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAgACABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAAXmVzZHMAAAAAA4CAgE0AAQAEgICAPyARAAAAAAMNQAAAAAAFgICALQAAAbABAAABtYkTAAABAAAAASAAxI2IAMUARAEUQwAAAbJMYXZjNTMuMzUuMAaAgIABAgAAABhzdHRzAAAAAAAAAAEAAAABAAAAAQAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAAUc3RzegAAAAAAAAASAAAAAQAAABRzdGNvAAAAAAAAAAEAAAAsAAAAYHVkdGEAAABYbWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAraWxzdAAAACOpdG9vAAAAG2RhdGEAAAABAAAAAExhdmY1My4yMS4x",image:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",script:"data:text/javascript,",document:"data:text/html,%3Cmeta%20http-equiv%3D%22Content-Security-Policy%22%20content%3D%22default-src%20'none'%3B%22%3E",track:"data:text/vtt,WEBVTT"};var lS=e=>{e&&Gs(e)&&Lo(e)},uS="DOM:view",mS={type:uS,init:e=>{let t={type:uS,constructors:[xr,"HTMLObjectElement","HTMLFrameElement"],attribute:null};return na(e,[xe(_({},t),{property:"contentWindow",handlePendingRead:(o,r)=>{let n=o(r);return lS(n),n}}),xe(_({},t),{property:"contentDocument",handlePendingRead:(o,r)=>{let n=o(r);if(n){let i=_p(n);lS(i)}return n}})])}};var Ov=e=>{var t;return B(Na,e)?s(Fl.get,e):(t=e.href)==null?void 0:t.baseVal},dS=(e,t)=>{B(Na,e)?s(Fl.set,e,t):e.href.baseVal=t},fS=(...e)=>{for(let t of v(e))tt(t,()=>{jg(t,s(fg,t,!0))})},gS={type:"script",constructors:[Rc],property:"src",placeholder:"script",handlePendingWrite:(e,t,o,r,n)=>{if($()){t(r);return}let{type:i,parse:a}=e,p=o,c=a(r,{type:i,target:p});if(!c)return;let l=te(c),u=c.serialize(),m=`${r}`!=`${u}`;n&&(!l||m)&&(n.modified=!0);let f=()=>{t(u)};if(!l){c.mutator=()=>{f(),fS(p)},pe(c);return}tt(p,f)},handleLiveMutation:(e,t,o,r)=>{let{type:n,parse:i,placeholder:a}=e,p=o.getNode(),c=Ov(p),l=i(c,{type:n,target:o});if(!l)return;let u=te(l),m=l.serialize(),f=c!==m;r&&(!u||f)&&(r.modified=!0);let E=(O,N=m)=>{dS(O,N),fS(O)};u?f&&tt(p,()=>{E(p)}):(tt(p,()=>{dS(p,a)}),l.mutator=()=>{let O=o.getLiveNode();E(O,m),o.release()},pe(l))}};var yS=e=>Ge(/\S/,e),Np=(e="",t)=>{let o=`${e}`,r=ss(o)==="",n=r?[[""]]:M(Pe(o,","),c=>Oo(c,/(?=\s+)/)),i=r?n[0]:M(n,c=>ss(st(c,yS)||c[0])),a=n.length;return new Vr(xe(_({},t),{urls:i,serialize:()=>{let c=i.length;for(let l=0;l<c;l++){let u=i[l];if(l<a){let m=n[l],f=Bt(m,yS);m[f]=Et(m[f]||"",/^(\s*)(?:\S+)(\s*)$/,(E,O,N)=>`${O}${u}${N}`)}}return Ae(M(n,l=>Ae(l,"")),",")}}))};var ES=e=>({get(){return s($n,this,e)},set(t){return s(Xt,this,e,t)}}),sa=ES("href"),TS=ES("rel");var AS=[{type:"DOM:image",constructors:[Ri],property:"src",placeholder:"image",save:!0,handleLiveMutation:(e,t,o,r)=>{let{type:n,parse:i,placeholder:a}=e,p=o.getNode(),c=fi&&s(fi.get,p)||s(rs.get,p),l=i(c,{type:n,target:o});if(!l)return;let u=te(l),m=l.serialize(),f=c!==m;r&&(!u||f)&&(r.modified=!0);let E=O=>{s(rs.set,O,m)};u?f&&tt(p,()=>{E(p)}):(tt(p,()=>{s(rs.set,p,a)}),l.mutator=()=>{E(o.getLiveNode()),o.release()},pe(l))}},{type:"DOM:image",constructors:[Ri],property:"srcset",placeholder:"image",parse:Np},{type:"DOM:media",constructors:["HTMLSourceElement"],property:"src"},{type:"DOM:media",constructors:["HTMLSourceElement"],property:"srcset",parse:Np},{type:"DOM:image",constructors:["HTMLPictureElement"],property:"src",placeholder:"image",handleLiveMutation:(e,t,o,r)=>{let{type:n,parse:i,placeholder:a}=e,p=o.getNode(),c=sr(p,"img"),l=c&&(fi&&s(fi.get,c)||s(rs.get,c)),u=i(l,{type:n,target:o});if(u&&c&&l){let m=te(u),f=u.serialize(),E=l!==f;r&&(!m||E)&&(r.modified=!0);let O=(N,b=f)=>{s(rs.set,N,b)};m?E&&tt(c,()=>{O(c)}):(tt(c,()=>{O(c,a)}),u.mutator=()=>{let N=sr(o.getLiveNode(),"img");O(N),o.release()},pe(u))}}},{type:"DOM:media",constructors:[Pc],property:"src",placeholder:"video",handleLiveMutation:(e,t,o,r)=>{let{type:n,parse:i,placeholder:a}=e,p=o.getNode(),c=Vl&&s(Vl.get,p)||s(ql.get,p),l=i(c,{type:n,target:o});if(!l)return;let u=te(l),m=l.serialize(),f=c!==m;r&&(!u||f)&&(r.modified=!0);let E=(O,N=m)=>{s(ql.set,O,N)};u?f&&tt(p,()=>{E(p)}):(tt(p,()=>{E(p,a)}),l.mutator=()=>{E(o.getLiveNode()),o.release()},pe(l))}},{type:"DOM:media",constructors:["HTMLVideoElement"],property:"poster",placeholder:"image"},{type:"DOM:ping",constructors:[Pi],property:"ping"},{type:"DOM:link",constructors:[Pi,mn,"HTMLAreaElement"],property:"rel",parse:(e,t)=>{let{type:o,target:r}=t,n=Oo(`${e}`,/\s+/);if(!Ee(n,u=>w(Fs,Mt(u))))return null;let a=()=>{var m;let u=jt(r)?r:(m=r==null?void 0:r.getLiveNode)==null?void 0:m.call(r);u&&s(TS.set,u,e)},p=jt(r)?r:r.getNode(),c=s(sa.get,p);return new j({type:o,url:c,target:r,serialize:()=>e,mutator:a},!0)}},{type:"DOM:link",constructors:[Pi,mn,"HTMLAreaElement"],property:"relList",attribute:null,handlePendingRead:(e,t)=>{let o=t,r=e(t),{add:n,toggle:i,replace:a}=r;return r.add=function(...p){let c=()=>U(n,this,p),l=s(sa.get,o);if(Ee(p,m=>w(Fs,Mt(m)))){let m=new j({type:"DOM:link",url:l,target:o,mutator:c,persist:!0});if(!te(m)){pe(m);return}}return c()},r.toggle=function(p,c){let l=()=>s(i,this,p,c),u=s(sa.get,o);if(w(Fs,Mt(p))){let f=new j({type:"DOM:link",url:u,target:o,mutator:l,persist:!0});if(!te(f))return pe(f),!s(Sl,r,p)}return l()},r.replace=function(p,c){let l=()=>s(a,this,p,c),u=s(sa.get,o);if(w(Fs,Mt(c))){let f=new j({type:"DOM:link",url:u,target:o,mutator:l,persist:!0});if(!te(f))return pe(f),!0}return l()},r}},{type:"DOM:link",constructors:[Pi,mn,"HTMLAreaElement"],property:"href",condition:({relList:e})=>!!(e&&Ee(Fs,t=>s(Sl,e,t)))},{type:"DOM:link",constructors:[mn],attribute:"imagesrcset",property:"imageSrcset",parse:Np},{type:"DOM:view",constructors:[xr,"HTMLEmbedElement","HTMLFrameElement"],property:"src",placeholder:"document"},{type:"DOM:view",constructors:["HTMLObjectElement"],property:"data",placeholder:"document"},{type:"DOM:track",constructors:["HTMLTrackElement"],property:"src",placeholder:"track"}];var Om=!Hl&&_r(),_m=Om?e=>Or(Om,e)?!1:s(Zn,s(Sg,e,"x"))!=="x"?(ir(Om,e),!1):!0:e=>s(Hl,e)!==null,ia=e=>{let t=s(It,e)||e;return t&&_m(t)},qs=e=>{let t=[];return xy(s(_l,e),o=>{y(t,_o(o))}),Ae(t,"")};var Cp=yi(),ks=e=>an(Cp,e)||an(is(Cp,e,[]),e),na=(e,t)=>Cy(t,o=>Lv(e,o)),_v=(e,t)=>{y(ks(e),...na(e,t))},hn=le(),SS=V.domProtectionCache!==fe,Nv=[mS,...AS,gS,...cS],RS=yi(),Mv=e=>an(RS,e)||an(is(RS,e,Nv),e),_p=e=>s(Qa,s(It,e)||e),aa=e=>e?io(e)&&s(li,e)||s(gg,e,null):null,_n=e=>aa(s(It,e)),Nn=e=>s(Zn,e),Vs=(e,t)=>{s(Ka,e),s(Ya,e,t),s(Wa,e)},iS=e=>{h&&g.log("Initializing DOM patchers");let t=Mv(e),{Node:o,Element:r,Document:n,DocumentFragment:i,DocumentType:a,Attr:p,CharacterData:c,Range:l,ShadowRoot:u}=e,m=o[S],f=r[S],E=n[S],O=NamedNodeMap[S],N=l[S],b=u==null?void 0:u[S];if(y(t,...((...T)=>M(T,({attribute:A=null,property:R,accessor:C,constructors:K=["Element"]})=>({type:Lr,constructors:K,property:R,attribute:A,handleLiveMutation:null,handlePendingWrite:(F,oe,me,De)=>{if($())return s(oe,me,De);let Fe=_n(me),pt=yr(Fe,Nn(me));Vs(pt,De===null?"":De);let ho=me===s(Qe,s(It,me)||ee)||Fe!==Jo?[s(Qe,pt)]:[s(on,pt),s(mi,pt)],Wr=d({insertion:pt,mutator:Aa=>{let Sa=ia(me);s(C.set,Aa,Wr.modified?Ae(M(ho,D=>Sa?qs(D):s(rn.get,D)),""):De)},target:me});return $t(e,Wr)}})))({property:"innerHTML",accessor:rn},{property:"outerHTML",accessor:di},{property:"srcdoc",attribute:"srcdoc",accessor:rc,constructors:[xr]})),oc){let{set:T}=oc;ze(u[S],"innerHTML",xe(_({},oc),{set(...A){let R=this;if($())return U(T,R,A);let[C]=A,K=_n(R),F=yr(K,"_");Vs(F,C===null?"":C);let oe=[s(Qe,F)],me=d({insertion:F,mutator:De=>{let Fe=ia(De);return U(T,De,me.modified?[Ae(M(oe,pt=>Fe?qs(pt):s(rn.get,pt)),"")]:A)},target:R});return $t(e,me)}}))}f.insertAdjacentElement=function(...T){let A=this,R=()=>U(ag,A,T);if($())return R();let C=T[1];return $t(e,d({insertion:C,mutator:R,target:A}))};let L="setHTML",W=L+"Unsafe";for(let[T,A]of v([[f,L],[f,W],[b,W]])){let R=T[A];R&&(T[A]=function(...C){let K=this,F=()=>U(R,K,C);if($())return F();let[oe]=C,me=ia(K),De=(pt,ho,Wr)=>(Wr&&(C[0]=me?qs(ho):s(rn.get,ho)),F());if(!C.length)return De();let Fe=yr(_n(K),T===f?Nn(K):"_");return Vs(Fe,oe),$t(e,d({mutator:De,target:K,insertion:Fe}))})}f.insertAdjacentHTML=function(...T){let A=this,R=()=>U(cg,A,T);if($())return R();let C=T[1],K=yr(_n(A),Nn(A));Vs(K,C);let F=ia(A);return $t(e,d({insertion:K,mutator:(me,De,Fe)=>(Fe&&(T[1]=F?qs(De):s(rn.get,De)),R()),target:A}))},E.adoptNode=function(...T){let A=this,R=()=>U(vl,A,T),[C]=T;if(io(C)){let K=yr(_n(C),Nn(C)),F=s(vl,K,C);return s(ci,IS(K),F),$t(e,d({insertion:F,mutator:(me,De,Fe)=>(Fe&&(T[0]=F),R()),target:A}))}return R()},E.importNode=function(...T){let A=this,R=()=>U(Cl,A,T);if($())return R();let[C,K]=T;if(io(C)){let F=yr(_n(C),Nn(C)),oe=s(Cl,F,C,K);return s(ci,IS(F),oe),$t(e,d({insertion:oe,mutator:(De,Fe,pt)=>(pt&&(T[0]=oe),R()),target:A}))}return R()},E.open=function(...T){let A=this,R=()=>U(Ka,A,T);return $()||vS(e,A,A,!0),R()},E.close=function(...T){let A=this,R=()=>U(Wa,A,T);return $()||Tm(...mA(A)),R()};let Z=function(...T){let A=this,R=()=>U(Ya,A,T);if($())return R();let C=s(Qe,A),K=C?Nn(C):"_",F=yr(aa(A),K);return s(Ka,F),U(Ya,F,T),s(Wa,F),$t(e,d({insertion:F,mutator:(me,De,Fe)=>(Fe&&(nt(T),y(T,s(di.get,s(Qe,F)))),R()),target:A}))};E.write=Z,E.writeln=function(...T){return U(Z,this,mt(T,`
`))},E.execCommand=function(...T){let A=this,R=()=>U(Ag,A,T);if($())return R();let[C]=T;if(typeof C=="string"){let K=Zt(C),F=T[2];if(K==="INSERTHTML"){let oe=_m(A),me=yr(aa(A),"_");Vs(me,F===null?"":F);let De=[s(Qe,me)],Fe=d({insertion:me,mutator:()=>(Fe.modified&&(T[2]=Ae(M(De,pt=>oe?qs(pt):s(rn.get,pt)),"")),R()),target:A});return $t(e,Fe)}if(K==="INSERTIMAGE"){let oe=new j({type:"DOM:image",url:F,mutator:()=>{let me=oe.serialize();me!==`${F}`&&(T[2]=me),R()}});if(!oe.allowed)return pe(oe),!1}}return R()};let re=new Map,Ce=[[[[r,$a],[n,Nl],[i,xl]],["append","prepend","replaceChildren"]],[[[r,$a],[a,Vg],[c,Ml]],["before","after","replaceWith"]]],ne=(T,A,R,C)=>{let{prototype:K}=T,F=rr(K,R);if(F){let oe=F.value;ae(re,`${A}${R}`,oe),ze(K,R,{configurable:!0,enumerable:!0,writable:!0,value:C})}};for(let[T,A]of v(Ce))for(let[R,C]of v(T))for(let K of v(A))ne(R,C,K,function(...F){let oe=this,me=s(Qn,oe),De=ce(re,`${me}${K}`);if($())return U(De,oe,F);for(let Fe of v(F)){let pt=()=>s(De,oe,Fe);typeof Fe=="string"?pt():$t(e,d({insertion:Fe,mutator:pt,target:oe}))}});m.appendChild=function(...T){let A=this,R=()=>U(Jr,A,T);if($())return R();let[C]=T;return $t(e,d({insertion:C,mutator:R,target:A}))},m.insertBefore=function(...T){let A=this,R=()=>U(pi,A,T);if($())return R();let[C]=T;return $t(e,d({insertion:C,mutator:R,target:A}))},m.replaceChild=function(...T){let A=this,R=()=>U(dg,A,T);if($())return R();let[C]=T;return $t(e,d({insertion:C,mutator:R,target:A}))};let Be=function(T,A,R,C,K=null){let F=Mt(A),oe=me=>C?s(Il,T,K,A,me):s(Xt,T,A,R);for(let me of v(ks(e))){let{handlePendingWrite:De,attribute:Fe,property:pt,condition:ho}=me;if(De&&Fe!==null&&pt!==null&&F===Fe&&(ho===null||ho(T))){De(me,oe,T,R);return}}return oe(R)};f.setAttribute=function(...T){let A=this;if($())return U(Xt,A,T);let[R,C]=T;return Be(A,R,C,!1)},f.setAttributeNS=function(...T){let A=this;if($())return U(Xt,A,T);let[R,C,K]=T;return Be(A,C,K,!0,R)};let ot=T=>st(ks(e),({attribute:A})=>A===T),lt=(T,A,R,C)=>{if(Se(OS,T)){let K=ot(T),F=K.parse(A,{type:Lr,target:R,mutator:C});if(!F)return C();if(gp(F))return dt&&g.warn("Unable to omit credentials from request. Request blocked: ",F),R;if(!K.safe&&!te(F))return pe(F),R}return C()},Je=G(p,"name"),ct=G(p,"value");ze(p[S],"value",xe(_({},ct),{set(...T){let A=this,R=()=>U(ct.set,A,T);if($())return R();let C=s(Je.get,A),[K]=T;return lt(C,K,A,R)}}));let se=T=>function(...A){let R=this,C=()=>U(T,R,A);if($())return C();let[K]=A,F=s(Je.get,K),oe=s(ct.get,K);return lt(F,oe,K,C)};f.setAttributeNodeNS=se(ig),f.setAttributeNode=se(sg),O.setNamedItemNS=se(Tg),O.setNamedItem=se(Eg);let Oe="insertNode",z=N[Oe];N[Oe]=function(...T){let A=this,R=()=>U(z,A,T);if($())return R();let C=s(Ul,A);if(!Gr(C))return R();let[K]=T;return $t(e,d({insertion:K,mutator:R,target:C,static:!0}))};let Q="createContextualFragment",ge=N[Q];N[Q]=function(...T){let A=this,R=()=>U(ge,A,T);if($())return R();let C=s(Ul,A);if(!Gr(C))return R();let[K]=T,F=yr(jn(C)?aa(C):_n(C),io(C)?Nn(C):"_");Vs(F,K);let oe=d({insertion:F,target:C,static:!0,mutator:()=>(oe.modified&&(T[0]=_o(F)),R())});return $t(e,oe)},_v(e,t)},vS=(e,t,o=t,r=!1)=>{let n=()=>{};if(FE&&t&&jn(t)&&(r||Jn(t)==="loading")){let i="readystatechange",a=lA(e);n=()=>{Tm(a),s(Vo,t,i,p)};let p=()=>{Jn(t)!=="loading"&&n()};s(He,t,i,p),uA(a,o)}return n},CS=(e=ee)=>{let t=(jt(e)?_p(e):e)||P,o=Lo(t),r=s(It,e)||e;if(h&&g.log("protect() called on",r),ke(hn,r)){Ve&&g.error("protect() already called on this document");return}let n=vS(t,r),a=d({remove:()=>{n(),Ko(hn,r),h&&g.log("protect() removed from",r),o&&o.remove()}});return ae(hn,r,a),a},Gr=e=>e!==null&&_p(e)!==null,PS=le([["ANCHOR",["A"]],["IMAGE",["IMG"]],["MEDIA",["VIDEO","AUDIO"]]]),Nm=e=>{let t=Zt(Et(e,/^HTML|^SVG|Element$/g,""));return ke(PS,t)?ce(PS,t):[t]},xv={mode:"no-cors"},OS=ue(),Lv=(e,t)=>{let o=[],{type:r}=t,{property:n=null,placeholder:i=null,safe:a=!1,save:p=!1,requestInit:c,constructors:l=[],condition:u=null,attribute:m=n,attributeNamespace:f=null,omitCredentials:E=To(l,L=>w(ca,L))&&((L,W)=>{let Z=Ds(L);return Z&&W&&(W.modified=!0),Z})||null,parse:O=(L,W)=>new j(xe(_({},W),{url:L,persist:p,omitCredentials:E!==null?function(){return E(this)}:void 0})),setup:N=null,init:b=L=>{for(let W of v(l)){let Z=L[W];if(!Z)continue;let re=n!==null&&rr(Z[S],n)||null,Ce=i&&pS[i],ne=(c!=null?c:p)?d(xv):void 0,{read:Be=n!==null&&(re==null?void 0:re.get)&&(z=>s(re.get,z))||(m!==null&&f?(z,Q=m,ge=f)=>{s(lg,z,ge,Q)}:(z,Q=m)=>{s($n,z,Q)})||null,write:ot=n!==null&&(re==null?void 0:re.set)&&((z,Q)=>s(re.set,z,Q))||m!==null&&(f?(z,Q,ge=m,T=f)=>{s(Il,z,T,ge,Q)}:(z,Q,ge=m)=>{s(Xt,z,ge,Q)})||null,block:lt=(z,Q,ge=m,T=f)=>{let A=z.getNode(),R=!1;tt(A,()=>{ot&&Ce?ot(A,Ce,ge,T):ge!==null?f?s(ug,A,T,ge):s(Ba,A,ge):(R=!0,Zr(A))}),Q&&(ot&&!R?Q.mutator=()=>{ot(z.getLiveNode(),Q.serialize(),ge,T),z.release()}:z.release(),pe(Q))},handlePendingRead:Je=null,handlePendingWrite:ct=ot!==null&&function(z,Q,ge,T,A){if($()){Q(T);return}let R=O(T,{type:r,target:ge,requestInit:ne});if(!R){Q(T);return}let C=z.safe||te(R),K=R.serialize(),F=`${T}`!=`${K}`;A&&(!C||F)&&(A.modified=!0);let oe=()=>{Q(K)};if(!C){R.mutator=oe,pe(R);return}tt(ge,oe)}||null,handleLiveMutation:se=Be!==null&&ot!==null&&lt!==null&&((z,Q,ge,T)=>{let{attributeName:A,attributeNamespace:R}=Q,C=ge.getNode(),K=Be(C,A,R),F=O(K,{type:r,target:ge});if(!F)return;let oe=te(F),me=F.serialize(),De=K!==me;T&&(!oe||De)&&(T.modified=!0),!z.safe&&!oe?lt(ge,F,A,R):(De&&ot(C,me,A,R),ge.release())})||null}=t,Oe=d({type:r,constructor:Z,tagNames:Nm(Z.name),placeholder:Ce,requestInit:ne,property:n,condition:u,safe:a,save:p,attribute:m,read:Be,write:ot,block:lt,parse:O,attributeNamespace:f,handlePendingRead:Je,handlePendingWrite:ct,handleLiveMutation:se,omitCredentials:E});y(o,Oe),m!==null&&J(OS,m),n&&re&&(Je||ct)&&ze(Z[S],n,xe(_({},re),{get:Je===null?re.get:function(){return Je(ge=>s(re.get,ge),this)},set:ct===null?re.set:function(z){let Q=this,ge=T=>{s(re.set,Q,T)};u===null||u(Q)?ct(Oe,ge,Q,z):ge(z)}}))}return o}}=t,Y=b(e);return N==null||N(Y),Y},Dv=Bc?()=>{let e=s(Ol,es,"");return s(pg,s(Xn,s(on,e))),e}:()=>s(Ol,es),yr=(e,t)=>e===Jo||e===null?Dv():s(za,es,e,t),bv=e=>aa(e)===Jo,hS=_r(),Yu=(e,t,o,r)=>{let n=s(Pg,o,r,Bg,i=>{if(SS&&Or(hS,i))return Kg;for(let a of v(ks(e))){let{handleLiveMutation:p,attribute:c,tagNames:l,condition:u}=a;if(p&&w(l,No(i))&&c!==null&&s(Va,i,c)&&(u===null||u(i))){let E=d({attributeName:c,attributeNamespace:null}),O=new(t.static?fr:Cn)(i);p(a,E,O,t)}}return SS&&s($g,i)===null&&ir(hS,i),Yg});for(;sS(e)&&s(hg,n)!==null;);},IS=e=>bv(e)?s(mi,e):s(Qe,e),$t=(e,t)=>{let{target:o,insertion:r,mutator:n}=t;if(zg(r))return tt(o,()=>n(o,r,t.modified));let i=s(It,r)||r||ee,a=io(r)||Wg(r)?r:s(Qe,i)||r;if(Gr(o)&&a){let p=s(It,o)||o;p&&o===p&&(a=i),Yu(e,t,i,a)}return tt(o,()=>n(o,a===i?s(Qe,i):a,t.modified))};var ca=I?nn(M([Ri,mn,Rc,Pc,"SVGImageElement","SVGScriptElement"],e=>Nm(e))):[];gi&&y(ca,xr);var _S=["fetch","xhr","worker","eventsource"],Fs=Pe("stylesheet icon apple-touch-icon preconnect prefetch preload prerender dns-prefetch modulepreload pingback manifest shortcut import alternate webbundle"," "),Ji="Attempted to reference a released node";var kv=e=>{let t=jt(e)?io(e)&&e:e.getNode(),o=t&&No(t);return t&&tt(t,()=>{s(Xt,t,"crossorigin","anonymous"),gi&&o==="IFRAME"&&s(gi,t,!0)}),jt(t)&&io(t)&&w(ca,o)},Ep=e=>{let{requestInit:t}=e;return(e.requestInit=t||d()).credentials="omit",!0},Ds=e=>{let{target:t,type:o}=e;return t?kv(t):w(_S,o)};var pa,Bs,la,Ys,ua,Mp,Vr=class{constructor({type:t,urls:o,serialize:r,omitCredentials:n,requestInit:i,mutator:a,target:p,timestamp:c=$e()},l=!0,u=!0){Ye(this,pa,void 0);Ye(this,Bs,null);Ye(this,la,void 0);Ye(this,Ys,void 0);Ye(this,ua,void 0);Ye(this,Mp,void 0);q(this,"allow",()=>{this.allowed=!0});q(this,"deny",()=>{this.allowed=!1});q(this,"type");q(this,"urls");q(this,"URLs");q(this,"timestamp");q(this,"mutator");q(this,"target");q(this,"requestInit");q(this,"serialize",()=>Ie(this,Ys)?Ie(this,Ys).call(this):this.urls[0]);q(this,"omitCredentials",()=>{var t,o;return(o=Ie(this,Mp))!=null?o:_e(this,Mp,Ep(this)&&(((t=Ie(this,ua))==null?void 0:t.call(this))||Ds(this)))});q(this,"toJSON",()=>{let{type:t,urls:o,requestInit:r,timestamp:n}=this;return{type:t,urls:M(o,i=>typeof i=="string"?i:`${i}`),requestInit:Xc(r),timestamp:n}});_e(this,pa,u),this.type=t;let m=this.urls=Me(o),f=this.URLs=M(m,E=>Yt(E));x(m,(E,O)=>{ze(m,O,{enumerable:!0,configurable:!1,get:()=>E,set:N=>{f[O]=Yt(E=N)}})}),this.mutator=a,this.target=p,this.requestInit=i,this.timestamp=c,r&&_e(this,Ys,r),n&&_e(this,ua,n),l&&fp(this)}get purposes(){var t;return(t=Ie(this,Bs))!=null?t:_e(this,Bs,ji(this,Ie(this,pa)))}set purposes(t){if(!B(ye,t))throw new fo("PendingEvent.purposes must be a Set");let o=Ie(this,Bs);o===null?_e(this,Bs,o=new ye):Yo(o);for(let r of Le(t)){if(typeof r!="string")throw new fo("Tracking purposes must be strings");J(o,r)}}get allowed(){var t;return(t=Ie(this,la))!=null?t:je(this.purposes,oo)}set allowed(t){if(t!==null&&typeof t!="boolean")throw new fo("Pending event allow/deny state must be true, false, or null");_e(this,la,t)}get url(){return this.urls[0]}set url(t){this.urls[0]=t}get persist(){return!1}set persist(t){}};pa=new WeakMap,Bs=new WeakMap,la=new WeakMap,Ys=new WeakMap,ua=new WeakMap,Mp=new WeakMap;gt(Vr);var xp=ue(["mutator"]);var Lp=()=>[wo(),wo()],Ks=(e,t,o,r,n=(i,a)=>pn(a))=>i=>{let a=(c,l)=>c!==i||w(e,l),p=(c,l)=>t&&a(c,l)&&(typeof c[l]!="function"||!!o&&Se(o,l));return new La(i,{get:(c,l)=>{if(!a(c,l))return;if(Re(r)){let[m,f]=r;if(l===m)return f}let u=c[l];return typeof u=="object"&&!p(c,l)?n(l,u):u},set:(c,l,u)=>p(c,l)?(c[l]=u,!0):!1,has:(c,l)=>l in c,deleteProperty:(c,l)=>p(c,l)&&delete c[l]})};var Mm=Lp(),[wv,Uv]=Mm,xm=["url","urls","type","requestInit","timestamp","URLs","persist","allowed","serialize","purposes","target","toJSON"],Mn=Ks(xm,!1,!1,Mm,(e,t)=>e==="URLs"?M(t,o=>Yt(o)):pn(t)),Hv=mt(xm,"URLs","omitCredentials","allow","deny","mutator"),sA=Ks(Hv,!0,xp,Mm),Gv=qe(xm,0,5),Pn=(e,t=!0)=>{var i;let o=Ze(e),r=ve(o,a=>w(Gv,a));if(r.length<o.length&&dt){let a=ve(o,p=>!w(r,p));g.warn(`The following properties are not allowed and will be ignored: ${Ae(a," ")}`)}let n=d();for(let a of v(r)){let p=pn(e[a]);a==="url"?((i=n.urls)!=null?i:n.urls=[])[0]=p:n[a]=p}return Mn(new Vr(n,t))},Lm=e=>B(j,e)||B(Vr,e)||e[wv]===Uv;var Ws=ue([So]),Fv=e=>{let t=ke(e,ft),o=`www.${ft}`,r=Rt(ft,"www.")||ke(e,o);t||ae(e,ft,Ws),St(ft,".")&&!r&&ae(e,o,Ws)},qv=e=>{let{hostname:t}=vu;ke(e,t)||ae(e,t,Ws)},Vv=e=>{let t="about:";ke(e,t)||ae(e,t,Ws)},NS=(e,t=!1)=>{x([...br?[Tt(br,"host","hostname","port")]:[],...Vc],o=>{if(o){if(t&&!o.port)return;let r=t?o.host:o.hostname;ke(e,r)||ae(e,r,Ws)}})},MS=(e,t=!1)=>{at&&x(Ni,o=>{if(t&&!o.port)return;let r=t?o.host:o.hostname;ke(e,r)||ae(e,r,ue([DE]))})},xS=(e,t=!1)=>{_i&&x(Nu,o=>{if(t&&!o.port)return;let r=t?o.host:o.hostname;ke(e,r)||ae(e,r,ue([So]))})},Bv=e=>{ke(e,"youtube.com")&&!ke(e,"youtube-nocookie.com")&&ae(e,"youtube-nocookie.com",Ws)},LS=e=>{Fv(e),qv(e),MS(e),NS(e),Bv(e),xS(e)},DS=e=>{Vv(e),MS(e,!0),NS(e,!0),xS(e,!0)};var Dm=(e,t)=>ve(e,({param:o,value:r})=>{if(s(Ga,t,o)){if(r===null)return!0;let n=s(Fa,t,o);if(typeof n=="string"&&St(n,r))return!0}return!1}),bm=(e,t,o)=>{let r=Dm(e,o);for(let{purposes:n}of v(r))for(let i of Le(n))J(t,i);return!!r.length};var Dp=(e=!1)=>(+rt.tcmu||0)+(e&&+rt.tcmr||0),km=(e,t)=>{let o=+(rt.tcmr||0),r=+(rt.tcmu||0)+1,n=o+r,i=jr(t)&&r>=t;return rt.tcmu=i?t:r,jr(e)&&n>=e},bS=()=>{delete rt.tcmu},kS=()=>{bS(),delete rt.tcmr},wS=()=>{let e=Dp(),t=Dp(!0);return rt.tcmr=t,bS(),e};var wm=()=>Vu(new Lt({name:Ss,domain:As})),US=async(e=!0)=>{vm(),h&&Yo(bp),Xe&&Hs(),!co&&e?await Go(lo({sync:[Mo],reset:!0})):zo&&As&&await wm(),Wt&&Hu()},HS=async e=>Ro(e)?(await US(),h&&g.log(`${Ut} caches have been cleared`),!0):(Ve&&g.error(Wo("clear")),!1),Um=async e=>{let t=typeof e=="boolean",{autoReload:o=!0,autoSync:r=!0}=t?d({autoReload:e,autoSync:e}):e||d();return await US(!1),kS(),await Hm(!1),!co&&r&&await Go(lo({reset:!0})),h&&g.log(`${Ut} data has been reset`),o&&zn(),!0},GS=async(e,t)=>Ro(e)?Um(t):(Ve&&g.error(Wo("reset")),!1);var VS="tcms",kp=!(VS in vr),Yv=()=>{vr[VS]=1},FS,BS=()=>kp&&!FS?(FS=!0,1):0,qS,YS=()=>{qS||(qS=!0,kp&&Yv())};var Gm=!1,KS=!0,Kv=()=>kp&&!Gm,zS=()=>KS?(KS=!1,Kv()):!1,WS=!1,$S=e=>{if(WS)return;WS=!0;let t;x(["mousedown","keydown","touchstart"],o=>{s(He,P,o,()=>{Gm=!0,t&&(s(Xr,P,t),t=null),t=s(qt,P,()=>{Gm=!1},e)},{passive:!0})})};var Wv=()=>{if(ku==="origin")return qo;if(ku==="path"){let{origin:e,pathname:t}=Ei("origin","pathname");return`${e}${t}`}return Ei("href").href},zs=le(),Fm=[],ma=()=>{let e=Wv(),t=ce(zs,e);return t||(t=d({hosts:le(),paths:le(),pathMatchers:le(),cookies:le(),cookieMatchers:le(),cspv:le(),consent:[]}),ae(zs,e,t)),t},QS=En===1,XS=()=>Za()<En,jS=(e,t,o,r,n,i,a,p=1,c=1)=>{h&&g.log.styled(vc,`Logging telemetry to %c${i}`),$S(r);let l=!1,u=null,m=!1,f=!1,E,O,N=M(e,({hostname:D})=>D),b=le(),Y=D=>{let k=d();for(let[X,{allowed:ie,blocked:de}]of vt(D))Se(ro,X)&&(k[X]=[ie,de]);return k},L=()=>{for(let D of Le(jo))ae(b,D,d({allowed:0,blocked:0}))};L();let W=["http:","https:"],Z=D=>{let k=Pe(D,"."),{length:X}=k;for(let ie=0;ie<X;ie++){let de=Ae(qe(k,ie),".");if(w(N,de))return!0}return!1},re=(D,k,X)=>X&&(D===ft||Z(D))||w(Ic,k),Ce=(D,k=`
`)=>{let X=[];for(let[ie,de]of vt(D))y(X,de>1?`${ie} ${de}`:ie);return Ae(X,k)},ne=/\n/g,Be=D=>{let k=[];for(let[X,ie]of vt(D))Nt(ie)&&y(k,`${Et(X,ne,de=>s(go,P,de))}
${Ae(M(Me(ie),([de,Te])=>{let be=de===ft?"^":de;return Te>1?`${be} ${Te}`:be})," ")}`);return Ae(k,`
`)},ot=D=>Ae(M(Me(D),([k,X])=>`${Ce(X,",")};${k}`),`
`),lt=D=>{let k=d();for(let[X,ie]of vt(D))k[X]=Ce(ie);return k},Je=D=>Ae(M(Me(D),([k,X])=>`${k}
${Ce(X,",")}`),`
`),ct=()=>{let D=d();for(let[k,{hosts:X,paths:ie,pathMatchers:de,cookies:Te,cookieMatchers:be,cspv:bt,consent:zr}]of vt(zs)){let Qt=d();Nt(X)&&(Qt.hosts=Ce(X)),Nt(ie)&&(Qt.paths=ot(ie)),Nt(de)&&(Qt.pathMatchers=lt(de)),Nt(Te)&&(Qt.cookies=Be(Te)),Nt(be)&&(Qt.cookieMatchers=Je(be)),Nt(bt)&&(Qt.cspv=Ce(bt)),zr.length&&(Qt.consent=ve(M(zr,Sr=>yo(ve(We(Sr),([Rr])=>Se(ro,Rr)))),Sr=>Ze(Sr).length)),D[k]=Qt}return D},se=()=>{let D=d({version:ur,id:Rp,site:ft,samplingRate:p,clientSamplingRate:c});return A(),To(Me(zl(zs)),({hosts:k,paths:X,pathMatchers:ie,cookies:de,cookieMatchers:Te,cspv:be,consent:bt})=>ut(vt(k))&&ut(vt(X))&&ut(vt(ie))&&ut(vt(de))&&ut(vt(Te))&&ut(vt(be))&&!Dp()&&!bt.length&&!Fm.length)?null:(D.entries=ct(),D)},Oe=()=>{x(zs,([,{hosts:D,paths:k,pathMatchers:X,cookies:ie,cookieMatchers:de,cspv:Te,consent:be}])=>{Ao(D),Ao(k),Ao(X),Ao(ie),Ao(de),Ao(Te),nt(be)}),Ao(zs),nt(Fm)},z=D=>{let k=se();if(k===null||(Oe(),xo||Hs(),k.sessions=BS(),n))return k;(k.sessions||0)>0&&(k.currentConsent=un(Ot(),ro).purposes,k.defaultConsent=un(d({purposes:yo(Vm)}),ro).purposes),k.bounces=+(D&&zS()),k.views=wS();for(let{allowed:de,blocked:Te}of zl(b))if(de||Te){k.purposes=Y(b);break}L();let X=Xo();X.size&&(k.regimes=!qm.length||os(X)===1?Me(Le(X)):ve(qm,de=>Se(X,de)));let ie=gn();return ie.size&&(k.signals=Me(Le(ie))),k},Q=D=>{if(!i||!te(new j({type:"beacon",url:i}),!1))return;let k=z(D);if(!k)return;m=!0,h&&g.log("Flushing telemetry data:",k);let X=Ue(k);kE||wE&&k.sessions||!er?Qo(i,{method:"POST",mode:"no-cors",body:X}):s(cy,er,i,X),m=!1,f||(f=!0)},ge=[],T=D=>{n||y(ge,D),O||(O=s(Hn,P,async()=>{await new Ne(k=>{E||(E=s(Gn,P,()=>{A(),k()}))}),E=null},a))},A=()=>{if(ge.length){let{length:D}=ge;if(D){for(;D--;)ge[D]();nt(ge)}}},R=()=>{m||(l||(s(He,P,xc,()=>{Q(!0)}),l=!0),u===null&&(u=s(qt,P,()=>{u=null,Q(!1)},(f?o:t)*1e3)))},C=D=>(k,X)=>{var bt;let ie=w(W,X);if(re(k,X,ie))return;let{[D]:de}=ma(),Te=ie?k:`${X}${k}`,be=((bt=ce(de,Te))!=null?bt:0)+1;ae(de,Te,be)},K=C("hosts"),F=C("cspv"),oe=["pathMatchers","paths"],me=(D,k)=>{let X=typeof k=="string",ie=ma()[oe[+X]],de=X?k:s(Kn,k),Te=ke(ie,de),be=Te?ce(ie,de):le();Te||ae(ie,de,be),ae(be,D,(ce(be,D)||0)+1)},De=({protocol:D,host:k})=>{F(k,D)},Fe=(D,k=!0)=>{T(()=>{let X=`${D}`;rR&&Ee(Km,ie=>Ge(ie,X))||(y(Fm,X),Ve&&g.error(D),k&&R())})},pt=(D,k)=>{var ie;let X=je(D,k)?"allowed":"blocked";for(let de of Le(D))if(Se(jo,de)){let Te=ce(b,de);Te[X]=((ie=Te[X])!=null?ie:0)+1}},ho=D=>s(Ir,D,k=>{pT(k)||R()}),Wr=(D,k)=>Li&&Se(D.purposes,wt)&&Hi(k),Aa=(D,k=!0,X=!0)=>{let ie=k&&Wr(D,Aa);T(()=>{if(eR){let Te=Mn(D);if(Ee(Wm,be=>be(Te)))return}if(tR&&Ee(Bm,Te=>Ee(D.URLs,be=>{let bt=be&&he(be,"href").href;return bt&&!as(bt)&&Ge(Te,bt)})))return;if(QS||XS()){for(let Te of v(D.URLs))if(Te){let be=he(Te,"protocol","hostname","host"),{protocol:bt}=be;if(bt==="data:")continue;D.type==="CSPV"&&(De(be),X&&ie?ho(ie):X&&R());let zr=JS(Te),Qt=ZS(Te),Sr=mt(zr,Qt);for(let Rr of v(Sr))me(Te.hostname,Rr);if(!zr.length){let{hostname:Rr}=be;K(Rr,bt)}}}let{purposes:de}=D;pt(de,oo),X&&ie?ho(ie):X&&R()})},Sa=(D,k,X=!0,ie=!0)=>{let de=X&&(k||Wr(D,Sa));T(()=>{let Te=qu(D);if(!(Te===""||oR&&Ee(Ym,be=>Ge(be,Te)))){if(QS||XS()){let be=kr(D,Te),bt=Gi(D,!1);pt(bt,Dr);let{domain:zr}=D,Qt=zr||ft,{cookies:Sr,cookieMatchers:Rr}=ma();if(!ve(Fu,([$r,dd])=>{let fd=Ge($r,Te);return fd&&(ke(Rr,dd)||ae(Rr,dd,le([[Qt,1]]))),fd}).length){let $r=ce(Sr,be);$r||($r=le(),ae(Sr,be,$r)),ae($r,Qt,(ce($r,Qt)||0)+1)}}ie&&de?ho(de):ie&&R()}})};return{logRequestStats:Aa,logCookieStats:Sa,logError:Fe}};var Do=[],nR=()=>{Re(zm)&&y(Do,...zm)},sR=e=>{h&&g.log("Request watcher registered:",e);let t=y(Do,e)-1;return{remove:()=>{Do[t]!==e&&(t=Bt(Do,r=>r===e)),yt(Do,t,1)}}};var lR=2147483647,da,iR=!0,{consentPrecedence:zv}=V,uR=zv==="signals",fa=`tcm${Kt?"MP":""}Consent`,mR=e=>{let t=Pe(s(Bo.get,ee),";");for(let o of v(t)){let[r,n]=Pe(o,"=");if(r===e)return s(Yd,P,n)}},dR=()=>{let e=zo?mR(Ss):rt[fa],t=e&&Pt(e,d)||d();return Kt?(zo?t:t[Kt])||d():t},fR=e=>{let t;if(Kt&&!zo){let n=rt[fa],i=n&&Pt(n,d)||d();i[Kt]=e,t=Ue(i)}else t=Ue(e);if(zo){let n=new Lt({name:Ss,value:t,domain:As,path:"/"});if(lr(n).length>4095){Ve&&g.error("Consent data exceeds 4KiB cookie size limit");return}np(n)}else rt[fa]=t;let o=vR(),r=Eo(bo)+o-Jt();o&&(da&&s(Xr,P,da),r<=lR&&(da=s(qt,P,Xm,Eo(bo)+o-Jt())))},GA=()=>{let e=dR();fR(qp(e))},$s,Er=le(),Po,bo,Yr=!1,xn=!1,Tr=!1,Ln,Dn,Sn,aR=le(),Vm=le(),Qs=d(),$v="Auto",jo=ue(),Up=ue(),gR=[],Qv=[wt],Br,yR=()=>$s.types,ws=async(e,t=xn,o=Tr,r=void 0,n=!0,i=$e(),a=Yr,p=void 0)=>{let c=ln(wa(e),Po,e),l=a||xn!==t||Tr!==o||!!c;if(at&&c){let f=d();x(Ze(c),E=>{f[E]=!!Qm(E,c[E])}),y(ma().consent,f)}let u=Ot();x(Ze(e),f=>{var E;(E=ce(Er,f))!=null&&E.configurable&&(Po[f]=e[f])}),Tr=o,xn=t,bo=i,Yr=l;let m=TR(r,p);fR(qp({purposes:Po,timestamp:i,updated:l,confirmed:t,prompted:o,metadata:m.metadata,metadataTimestamp:m.metadataTimestamp})),l&&Vi(vT,u,Ot(),c),!co&&n&&await Go(lo()),Rs&&c&&ZT(),Mi&&wr(),Vp&&!(rd&&Ps&&Di&&je(jo))?Lo(P):Bi(od)},Fp=(e,t,o)=>{var p,c,l,u;if(!Ro(e))return Ve&&g.error(Wo("setConsent")),!1;let n=(p=o==null?void 0:o.confirmed)!=null?p:!0,i=!!((c=o==null?void 0:o.prompted)!=null?c:Tr),a=s(Ir,ws(t,n,i,o==null?void 0:o.metadata,!0,(l=o==null?void 0:o.timestamp)!=null?l:$e(),Yr,(u=o==null?void 0:o.metadataTimestamp)!=null?u:$e()),()=>(h&&g.log("Consent set to",Po),!0));return o!=null&&o.waitForSync?a:!0},Xv=async(e,t=!0,o=$e())=>{let{metadata:r,metadataTimestamp:n}=TR(e,o);Ln=r,Dn=n,h&&g.log("Metadata set",Ln),!co&&t&&await Go(lo())},ER=async(e,t,o=!0,r=$e())=>{if(Ro(e))await Xv(t,o,r);else return Ve&&g.error(Wo("setConsentMetadata")),!1;return!0},jv=e=>To(e,t=>Hp(t)),TR=(e,t)=>{let o=e===!1,r=e!==null&&typeof e<"u"&&(!Dn||t&&Eo(t)>Eo(Dn));return{metadata:o?void 0:r?e:Ln,metadataTimestamp:o?void 0:r?t:Dn}},qp=e=>{if(!e)return Ot();let{purposes:t,timestamp:o,prompted:r,confirmed:n,updated:i,metadata:a,metadataTimestamp:p}=e;return xn=!!(n||iR&&!td&&jv(Me(ro))),iR&&(iR=!1),Tr=!!r,Yr=!!i,Ln=a,t&&x(Ze(t),c=>{Se(ro,c)&&(Po[c]=t[c])}),o&&(bo=o),p&&(Dn=p),d({purposes:Po,timestamp:bo,confirmed:xn,prompted:Tr,updated:Yr,metadata:a,metadataTimestamp:Dn})},Hm=(e=!0,t=!1)=>(rt[fa]&&delete rt[fa],mR(Ss)&&wm(),Po=d(Br==null?void 0:Br.purposes),qp(Br),ws(t?yo(M(ve(We(Po),([n,i])=>{var a;return i&&!((a=Qs.purposes)!=null&&a[n])}),([n])=>[n,!1])):Qs,!1,!1,!1,e,$e(),!1,$e())),je=(e,t)=>{if(td)return!0;for(let o of Le(e)){let r=ce(Er,o);if(r!=null&&r.essential)return!0;if(o===wt||!r)return t===oo?$c||Ps&&je(Up,t):t===Dr?Qc||Di&&je(Up,t):je(e,oo)&&je(e,Dr);if(Se(ro,o)&&!Po[o])return!1}return!0},Zm=e=>(Tr=!!e,bo=$e(),Go(lo())),Ot=()=>d({purposes:d(Po),confirmed:xn,prompted:Tr,timestamp:bo!=null?bo:bo=$e(),updated:Yr,metadata:Ln&&d(Ln),metadataTimestamp:Dn}),AR=()=>je(Up),SR=()=>To(gR,e=>!Po[e]),RR=(e,t=!1)=>{var r;let o=d();for(let n of v(Ze(Qs)))(!t||(r=ce(Er,n))!=null&&r.showInConsentManager)&&(o[n]=e);return o},PR=e=>Fp(e,RR(!0,!0)),hR=e=>Fp(e,RR(!1,!0)),_s=e=>typeof e>"u"||Re(e)&&ut(v(e))||B(ye,e)&&ut(Le(e))?ue(Qv):B(ye,e)?e:ue(e),Jv=(e,t)=>{if(t){let o=Ze(t);for(let r of v(o))ae(e,ps(r),_s(t[r]))}},mr=class extends Ft{constructor(t){super(),Jv(this,t)}};gt(mr);var Ur=new mr,ap=(e,t,o=!1)=>{o&&LS(t);for(let[r,n]of vt(t))ae(e,r,n);h&&g.log("Data flow purpose map loaded",t)},Zv=e=>{let t=Pe(ps(e),"."),{length:o}=t;for(let r=0;r<o;r++){let n=Ae(qe(t,r),".");if(ke(Ur,n))return n}return!1},te=(e,t=!0)=>{let o=Ct||e.allowed;if(t&&(Xe&&o&&y(Ar,e),at&&In(e),Do.length)){let r=Mn(e);for(let n of v(Do))n(r)}return o},Tn=async(e,t=!0)=>te(e,t),cR=e=>{J(e,wt)},pR=(e,t)=>eo(e.href,e[t].length),IR=(e,t)=>{let o=Wt&&ce(Ui,e),r=t.href;if(o&&Se(o,r))return!0;let n;if(typeof e=="string"){let i=e[0]==="/",a=i&&e[1]==="/"&&e[2]==="/",p=a?"origin":"protocol";n=i?Rt(pR(t,p),pR(Tt(a?eo(e,2):e,"href","protocol","origin"),p)):Rt(r,e)}else n=Ge(e,r);return Wt&&(o||(o=ue(),ae(Ui,e,o)),n&&J(o,r)),n},$m=(e,t,o)=>{let r=ve(e,({matcher:n})=>IR(n,o));for(let{purposes:n}of v(r))for(let i of Le(n))J(t,i);return!!r.length},gp=({URLs:e})=>{let t=new ye;for(let o of v(e))o&&$m(nd,t,he(o,"href","origin","protocol"));return os(t)!==0&&!je(t,Dr)},bp=h&&ue(),eC=(e,t,o)=>{for(let{matcher:r}of v(e))IR(r,t)&&J(o,r)},JS=e=>{let t=new ye;dr.length&&eC(dr,e,t);let r=[];for(let n of Le(t))y(r,n);return r},ZS=e=>{let t=new ye;if(bm.length)for(let{source:r}of v(Dm(Rn,e.searchParams)))J(t,r);return Me(t)},ji=(e,t=!0)=>{var c;let o=Wt&&iT(e),r;if(Wt&&o!==null&&(r=ce(wi,o)))return r;let{URLs:n}=e,i=M(ve(n,l=>l!==null),l=>{var L;let u=new ye,m=he(l,"hostname","href","protocol","origin","searchParams"),{href:f,hostname:E,protocol:O,searchParams:N}=m;if(w(Ic,O))return J(u,So),u;let b=dr.length&&$m(dr,u,m);e.type==="script"&&(b=Gp.length&&$m(Gp,u,m)||b,!Es()&&!b&&J(u,So));let Y=Rn.length&&bm(Rn,u,N);if(Ur){let W=Zv(E);if(W!==!1){let Z=ce(Ur,W);for(let re of Le(Z))(!((L=ce(Er,re))!=null&&L.essential)||!b&&!Y&&ut(Le(u)))&&J(u,re)}else cR(u)}else cR(u);return h&&t&&(Se(bp,f)||(J(bp,f),g.log(`Purposes for ${f}`,u))),Wt&&o!==null&&ae(wi,o,u),u}),a=new ye,p=To(i,l=>!l||Ee(Me(l),u=>{var m;return(m=ce(Er,u))==null?void 0:m.essential}));for(let l of v(i))if(l)for(let u of Le(l))(p||!((c=ce(Er,u))!=null&&c.essential))&&J(a,u);return a},ed=async(e,t=!0)=>ji(e,t),Hp=e=>{var o;let t=(o=ce(Er,e))==null?void 0:o.optOutSignals;return!!t&&Ee(t,r=>Se(gn(),r))},tC=(e,t)=>{var o;if((!t||uR)&&Hp(e))return!0;for(let r of Le(Xo())){let n=(o=st(OR,([i])=>w(i,r)))==null?void 0:o[1];if(n&&w(n,e))return!0}return!1},Qm=(e,t,o)=>{if(typeof t=="boolean")return t;let r=xt(`${t}`);for(let n of v(r))switch(n){case fe:return!1;case $v:if(tC(e,o))return!1;break}return t},vR=()=>{let{consentExpiry:e}=V;return e?+e*6e4:0},Xm=()=>{let{onConsentExpiry:e}=V,t=e==="ResetOptIns",r=e==="Reset"||t;da=null,h&&g.log(`Consent has expired. ${r?"Resetting":"Re-prompting for"} consent${t?" opt-ins":""}`),r?Hm(!0,t):Zm(!1)},CR=()=>{var O,N,b,Y;h&&g.log(`Network events with unknown purposes are ${$c?"always allowed":`${Ps?"":"not "}consentable`}`);let e={defaultConsent:"Auto",configurable:!0,essential:!1,optOutSignals:["DNT"]},t={[So]:{name:So,description:"",defaultConsent:!0,configurable:!1,essential:!0},[wt]:{name:wt,description:"",defaultConsent:!1,configurable:!1,essential:!1}},o=(O=wp)==null?void 0:O.types;o&&x(Ze(o),L=>{o[L]=_(_({},e),o[L])});let r=(b=(N=wp)==null?void 0:N.useDefault)!=null?b:!0,n=_(_({},r&&{Functional:_({name:"Functionality",description:"Personalization, autofilled forms, etc."},e),Analytics:_({name:"Analytics + Performance",description:"Help us learn how our site is used and how it performs."},e),Advertising:_({name:"Targeting / Advertising",description:"Helps us and others serve ads relevant to you."},e),SaleOfInfo:xe(_({name:"Sale of personal information",description:""},e),{optOutSignals:["GPC","DNT"]})}),o);$s=d({useDefault:r,types:_(_({},n),t)});let i=(L,W)=>W==="boolean"||W==="string",a=(Y=wp)==null?void 0:Y.defaultConsent;if(typeof a<"u"){let L=i(a,typeof a)?(()=>{let W=d();return x(Ze(n),Z=>{W[Z]=a}),W})():a;x(Ze(L),W=>{var re;let Z=(re=$s.types)==null?void 0:re[W];Z?Z.defaultConsent=L[W]:dt&&g.warn(`Default consent specified for unrecognized tracking purpose: ${Ue(W)}`)})}jm&&(h&&g.log("Using embedded purpose map"),ap(Ur,new mr(jm),!0)),x(Ze($s.types),L=>{let W=$s.types[L],Z=W.configurable&&!W.essential&&(!cp||Se(ro,L));J(jo,L),ae(Er,L,W),Z&&(y(gR,L),J(Up,L)),W.configurable&&(ae(aR,L,"defaultConsent"in W?Qm(L,W.defaultConsent):!1),ae(Vm,L,"defaultConsent"in W?Qm(L,W.defaultConsent,!0):!1))}),bl($s);let p=L=>{var re;if(!uR)return;let{purposes:W}=L,Z;for(let[Ce,ne]of We(W))ne&&((re=ce(Er,Ce))!=null&&re.configurable)&&Hp(Ce)&&(Z=!0,W[Ce]=!1);Z&&(L.timestamp=$e(),L.confirmed=L.updated=!0)};for(let[L,W]of vt(aR))Qs[L]=W;let c=dR(),{confirmed:l,purposes:u}=c;Br=d({purposes:d(Qs),confirmed:xn,updated:Yr=Yr||!!(u&&ln(Me(jo),u,Qs)),prompted:Tr});let m=l?c:Br;m!==Br&&p(Br),p(m),Po=d(m==null?void 0:m.purposes),qp(m),Vi(IT,null,Ot(),null,Ee(Me(ro),L=>Hp(L))?gn():null),Sn=new mr(Jm||d()),Jm&&h&&g.log("Using embedded CSP-only purpose map",Sn),DS(Sn);let f=vR(),E=Eo(bo)+f-Jt();f&&(bo&&E<=0?Xm():E<=lR&&(da=s(qt,P,Xm,E)))};var ga,Xs,ya,Lt=class{constructor({name:t,value:o,timestamp:r=$e(),expires:n,maxAge:i,domain:a,path:p,sameSite:c,partitioned:l,secure:u,persist:m=!0,mutator:f=()=>np(this)},E=!0,O=!0){Ye(this,ga,void 0);Ye(this,Xs,null);Ye(this,ya,void 0);q(this,"name");q(this,"value");q(this,"timestamp");q(this,"expires");q(this,"maxAge");q(this,"domain");q(this,"path");q(this,"secure");q(this,"sameSite");q(this,"partitioned");q(this,"persist");q(this,"mutator");q(this,"allow",()=>{this.allowed=!0});q(this,"deny",()=>{this.allowed=!1});q(this,"toJSON",()=>{let{name:t,value:o,timestamp:r,expires:n,maxAge:i,domain:a,path:p,sameSite:c,partitioned:l,secure:u}=this;return{name:`${t}`,value:`${o}`,timestamp:r,expires:n,maxAge:i,domain:a,path:p,sameSite:c,partitioned:l,secure:u}});_e(this,ga,O);let N=typeof n,b=N!=="undefined"&&n!==null&&(N==="number"?n:+Eo(`${n}`));this.name=t,this.value=o,this.timestamp=r,typeof b=="number"&&(this.expires=b),this.maxAge=i,this.domain=a,this.path=p,this.sameSite=c,this.partitioned=l,this.secure=u,this.persist=m,this.mutator=f,E&&jE(this)}get purposes(){var t;return(t=Ie(this,Xs))!=null?t:_e(this,Xs,Gi(this,Ie(this,ga)))}set purposes(t){if(!B(ye,t))throw new fo("PendingCookieMutation.purposes must be a Set");let o=Ie(this,Xs);o===null?_e(this,Xs,o=new ye):Yo(o);for(let r of Le(t)){if(typeof r!="string")throw new fo("Tracking purposes must be strings");J(o,r)}}get allowed(){var t;return(t=Ie(this,ya))!=null?t:je(this.purposes,Dr)}set allowed(t){if(t!==null&&typeof t!="boolean")throw new fo("Pending event allow/deny state must be true, false, or null");_e(this,ya,t)}};ga=new WeakMap,Xs=new WeakMap,ya=new WeakMap;gt(Lt);var Pp=({name:e,value:t,timestamp:o,expires:r,maxAge:n,domain:i,path:a,sameSite:p,secure:c})=>new Lt({name:e,value:t,timestamp:o,expires:r,maxAge:n,domain:i,path:a,sameSite:p,secure:c});var sd=Lp(),[oC,rC]=sd,id=["name","value","timestamp","expires","domain","path","secure","sameSite","partitioned","persist","purposes","allowed","toJSON"],Fi=Ks(id,!1,!1,sd),nC=mt(id,"allow","deny","mutator"),JE=Ks(nC,!0,xp,sd),sC=qe(id,0,9),Ea=(e,t=!0)=>{let o=Ze(e),r=ve(o,i=>w(sC,i));if(r.length<o.length&&dt){let i=ve(o,a=>!w(r,a));g.warn(`The following properties are not allowed and will be ignored: ${Ae(i," ")}`)}let n=d();for(let i of v(r))n[i]=pn(e[i]);return Fi(new Lt(n,t))},ad=e=>B(Lt,e)||e[oC]===rC;var po=[],_R,NR=()=>{if(!_R){if(tr){let e=G(oi,"changed").get,t=G(oi,"deleted").get;s(He,tr,"change",o=>{if(Xy(o)){let r=s(e,o),n=r.length,i=s(t,o),a=i.length;h&&(a&&g.log("Cookie(s) deleted:",i),n&&g.log("Cookie(s) changed:",r));let p=n+a,c=yc({getKey:lr,searchDepth:p}),l=$e(new Gt(ny(Ng+en(o,"timeStamp").timeStamp))),u=c(po,M(mt(r,i),m=>Ea(xe(_({},m),{timestamp:l}),!1)));for(let m of v(u)){if(Xe&&y(po,m),at){let f;bi&&Se(m.purposes,wt)&&(f=ce(tp,m.name)),qi(m,f,!!f)}if($o.length){let f=Fi(m);for(let E of v($o))E(f)}}}})}_R=!0}},MR=()=>{nt(po)};var iC=2,Ar=[],xR=e=>{let{performance:t}=e;if(!t)return;let o=PerformanceEntry?ai(PerformanceEntry):{},r=d();for(let[u,m]of v(We(o))){let f=m.get;f&&(r[u]=f)}let n=PerformanceResourceTiming?ai(PerformanceResourceTiming):{},i=d();for(let[u,m]of v(We(n))){let f=m.get;f&&(i[u]=f)}let a=[i,r],p=u=>{let m=d();for(let f of v(a))for(let[E,O]of v(We(f)))m[E]=s(O,u);return m},c=le([...M(["iframe","object","embed","frame"],u=>[u,"DOM:view"]),["css","DOM:style"],["link","DOM:link"],["img","DOM:image"],["video","DOM:video"],["audio","DOM:audio"],["track","DOM:track"],["xmlhttprequest","xhr"],["other",Lr],["",Lr]]),l=({name:u,fetchStart:m,entryType:f,initiatorType:E=f})=>new j({type:ke(c,E)?ce(c,E):E,url:u,timestamp:$e(new Gt(m!=null?m:Jt()))},!1);if(Xe&&PerformanceObserver){s(He,t,"resourcetimingbufferfull",()=>{s(xg,t)}),s(Mg,t,1e3);let m=new PerformanceObserver(f=>{let E=ve(M(M(s(_g,f),p),l),O=>{var W;let{url:N,URLs:{0:b}}=O;if(typeof N>"u"||!b)return!1;let Y=Ar.length,L=Y-Ja(Y,iC);for(;Y-- >L;){let Z=Ar[Y];if(N===Z.url&&!((W=Z==null?void 0:Z.requestInit)!=null&&W.body))return!1}return!0});for(let O of v(E))if(Ct&&h&&g.log("Request sent:",O),xo&&y(Ar,O),at&&In(O,!1),Do.length){let N=Mn(O);for(let b of v(Do))b(N)}});s(Og,m,{entryTypes:["resource","navigation"]})}},LR=()=>{nt(Ar)};var Hs=()=>{MR(),LR()},Op=e=>{h&&g.log("Monitoring active"),NR(),xR(e),YS()};var aC=(e,t=0)=>Ue(e,void 0,t),DR=(e=d())=>{let{endpoint:t,save:o,space:r=o?2:0,filename:n}=e,i=Ot();At&&hp(At);let a=d(_({version:ur,consent:i,url:cs(),requests:ht,mutations:On,cookies:zt,cookieMutations:ra},xo&&d({sentRequests:Ar,setCookies:po}))),p=aC(a,r);if((o||t)&&(t&&er.sendBeacon(t,p),o)){let c=to("a"),l=new kn([p],{type:"application/json"}),u=ts(l);s(Ey.set,c,u),s(yy.set,c,n||`${ft||Ut} requests (${Ly(new Gt(ac))}).json`),s(qa,c),s(qt,P,Ca(sy,ko,u),1e4)}return Bn(p)};var bR=async()=>{if(!cd){dt&&g.warn("getMetadata(): No metadata URL defined");return}let e=await s(_t,Qo(cd));if(e&&e.body){let t=await s(_t,s(ja,e));return Pt(t)}Ve&&g.error("Failed to load remote metadata")};var kR=[];var wR=[];var{privacyPolicy:cC,xdiAllowed:pC=cC||""}=V,{syncGroups:UR,firstParty:HR}=V,Ta=HR&&M(Ai(HR),e=>he(e,"origin","hostname")),GR=UR?new us(Pt(UR)):Ta?new us({[LA]:[]}):null,pd=M(Ai(pC),e=>he(e,"hostname").hostname);if(Ta)for(let{hostname:e}of v(Ta))y(pd,e);var Kr=Sc("Transcend XDI");var FR=(e,t,o)=>{var n,i,a;let r=!1;if(h&&Kr.tag("Transcend",()=>{Kr.groupCollapsed(`Initializing XDI v${MA}`)}),e){let p=P.transcend,{readyQueue:c=[]}=t;c&&h&&Kr.log("transcend.xdi.ready() queue = [",c,"]"),p?p.xdi=t:P.transcend=d(xe(_({},p),{xdi:t})),o&&(t.host=(...l)=>(r=!0,U(o,t,l))),x(c,l=>{try{l(t)}catch(u){Ho(u)}}),delete t.host,nt(c),delete t.readyQueue}o&&P!==Oa&&(pd.length||(n=Ta)!=null&&n.length||(a=(i=GR)==null?void 0:i.hosts)!=null&&a.length)&&!r&&o(),h&&Kr.groupEnd()};var qR=!1,{xdiConnectTimeout:uC=3e4}=V,mC=0,ld=(e,t=+uC)=>{if(typeof e!="string")throw new we("XDI endpoint unspecified");let o=`${mC++}`,r=Tt(e,"href","origin","hash"),{origin:n,href:i}=r;return h&&Kr.log(`Connecting to endpoint: ${i}`),new Ne((a,p)=>{let c=0,l=to("iframe"),u=t&&s(qt,P,()=>{p(new we(`XDI connection to ${i} timed out.`))},t),m=O=>{let{ports:[N],origin:b,data:Y}=ec(O,"ports","origin","data");if(!Y)return;let{id:L,ready:W,"transcend-xdi":Z,commands:re=new ye}=Y;if(!(+Z>=1&&W)||o!==L||!N)return;if(b!==n){dt&&Kr.warn(`Connection attempt from ${b} refused`);return}s(Vo,P,"message",m),u&&s(Xr,P,u);let ne=le(),Be=({data:lt})=>{if(!lt)return;let{id:Je,error:ct,results:se}=lt;if(ke(ne,Je)){let[Oe,z]=ce(ne,Je);ct?z(new we(ct)):Oe(se)}};s(He,N,"message",Be),s(xf,N);let ot=lt=>new Ne((...Je)=>{ae(ne,lt,Je)});a({commands:re,run:(lt,Je,ct)=>{let se=c++,Oe=jr(ct)&&s(qt,P,()=>{p(new we(`Request sent to ${b} timed out.`))},ct),z=s(Ir,ot(se),Q=>(Oe&&s(Xr,P,Oe),Q));return s(Mf,N,{id:se,command:lt,options:Je}),z},close:()=>{s(Vo,N,"message",Be),s(Lf,N),Zr(l)}})};s(He,P,"message",m),l.style.display="none",l.width=l.height="0";let f=new so;"ancestorOrigins"in Qr||s(Vt,f,"xdi-client-origin",n,s(go,P,qo)),s(Vt,f,"xdi-channel-id",o),s(Vt,f,"log",eu),jl(r,f),s(gy.set,l,r.href);let E=s(Qe,ee);s(ci,E,l)})},VR,BR;if(qR){let e=xe(_({readyQueue:[]},(BR=(VR=P)==null?void 0:VR.transcend)==null?void 0:BR.xdi),{ready(t){t(e)},connect:ld});FR(qR,e)}var WR=[],dC=(e,...t)=>new Ne((o,r)=>{ud?(y(WR,i=>{o(U(i[e],i,t))}),s(_t,Ns({url:ud,name:"Transcend XDI",sync:!0}),r)):r(new we("Unable to determine Transcend XDI module location."))}),fC=Ca(dC,null,"host"),YR,KR,md=xe(_({ready:e=>{e(md)},readyQueue:WR},(KR=(YR=P)==null?void 0:YR.transcend)==null?void 0:KR.xdi),{connect:ld}),zR=()=>{I&&P!==Oa&&(Vc.length||NE||ME)&&fC()};var{airgap:H,transcend:om}=P;if(H!=null&&H.initialized&&(H==null?void 0:H[si])===Ut)throw new we("airgap.js is already initialized");var aS=()=>{Vp=!1},Vp=!1,In,qi,Pm,$R=H==null?void 0:H.macroregions,BT=M(Re($R)?$R:pE,([e,t])=>[e,Pe(t," ")]),QR=H==null?void 0:H.regionRegimesMap,rm=Re(QR)?QR:lE,XR=H==null?void 0:H.regimePurposeOptOuts,OR=Re(XR)?XR:Tu,qm=V.regimePrecedence?Pe(V.regimePrecedence,";"):[],jR=H==null?void 0:H.regimePurposeScopes,cp=V.regimePurposeScopes!==fe,pp=Re(jR)?jR:Eu,ro=tm(pp),td=ut(Le(ro)),od=V.autoReload!==fe,wp=H==null?void 0:H.purposes,rd=V.disableWhenConsented!==fe,sP,JR=(sP=V.ui===fe?!1:V.ui)!=null?sP:H==null?void 0:H.ui,ZR=JR&&he(Mr(`${JR}${Ci}`,ao),"href").href,gC=V.lazyLoadUi===it,iP,eP=(iP=V.xdi)!=null?iP:H==null?void 0:H.xdi,ud=eP&&he(Mr(`${eP}${Ci}`,ao),"href").href,tP=H==null?void 0:H.metadata,cd=tP&&he(Mr(tP,ao),"href").href,Rp=H==null?void 0:H.id,jm=H==null?void 0:H.purposeMap,Jm=H==null?void 0:H.csp,ST=H==null?void 0:H.cookies,zm=H==null?void 0:H.watchers,dp=H==null?void 0:H.overrides,jc=H==null?void 0:H.cookieOverrides,aP,js=Mt((aP=V.replay)!=null?aP:""),Bp=["requests","mutations","cookies"],Yp=!js||w(Cc,js)?Bp:js===fe?[]:Ge(/\s|,/,js)?xt(js):[js],Dt=w(Yp,Bp[0]),gr=w(Yp,Bp[1]),no=w(Yp,Bp[2]);nt(Yp);var Rn=[],oP=e=>`R:${s(bf,e)}:${s(Kn,e)}`,Yi=({matcher:e,purposes:t=[],regex:o=!1},r,n=Rn,i)=>{if(n&&typeof e=="string"&&Rt(e,"?"))for(let[a,p]of s(Cr,new so(e))){let c=d({param:a,value:p===""?null:p,purposes:ue(t),source:e});if(i){let l=Bt(n,({source:u})=>e===u);~l?yt(n,l,1,c):y(n,c)}else y(n,c);break}else{let a=d({matcher:o&&typeof e=="string"?new Io(e):e,purposes:ue(t)});if(i){let{matcher:p}=a,c=typeof p!="string"?oP(p):p,l=Bt(r,({matcher:u})=>(typeof u=="string"?u:oP(u))===c);~l?yt(dr,l,1,a):y(r,a)}else y(r,a)}},yC=H==null?void 0:H.regulatedPaths,dr=[];x(mt(kR,yC||[]),e=>{Yi(e,dr)});var EC=H==null?void 0:H.regulatedScripts,Gp=[];x(mt(wR,mt(EC||[])),e=>{Yi(e,Gp)});var rP=H==null?void 0:H.omitCredentials,nd=[];Re(rP)&&x(rP,e=>{Yi(e,nd,!1)});var{requests:Bm=[],cookies:Ym=[],errors:Km=[],requestConditions:Wm=[]}=(H==null?void 0:H.suppressTelemetry)||d(),eR=Wm.length,tR=Bm.length,oR=Ym.length,rR=Km.length,cP=()=>{if(!(cr&&Ge(/^(?:app|sync)\.transcend\.io$/,ft))){if(typeof allowedHosts<"u"&&Re(allowedHosts)){let{port:e}=Qr;if(ft&&!pr(allowedHosts,ft,e))throw new we(`This build of Transcend Consent Manager cannot run on ${qo}! If you are the website owner, try adding this domain to your domain list: https://app.transcend.io/consent-manager/developer-settings`)}if(h&&g.tag("Transcend",()=>{g.groupCollapsed(`Initializing airgap.js v${ur}`)}),Ct&&dt&&g.warn("Report-only mode enabled"),Wc&&dt&&g.warn("Privileged API authorization checks disabled"),h){let e=[];Dt||y(e,"requests"),gr||y(e,"mutations"),no||y(e,"cookies"),g.log(`Smart Quarantine replay ${e.length?`disabled for ${Ae(e,", ")}`:"enabled"}`),od||g.log("Auto-reload disabled")}zR(),AC(),aT()}},qr=xe(_({readyQueue:[],ready(e){y(this.readyQueue,e)}},om),{xdi:md,[si]:"Transcend"});x(mt(M(["autoShow","show","hide","toggle"],e=>e+"ConsentManager"),"doNotSell","setSecondaryPolicy","setPrivacyPolicy","getViewState"),e=>{Jg(qr)||(qr[e]=(...t)=>new Ne(o=>{var r,n;(n=(r=P)==null?void 0:r.transcend)==null||n.ready(async i=>{await U(i[e],i,t),o()}),lP()}))});var pP=!1,NT=()=>pP,TC=async()=>{h&&g.groupEnd(),g.tag("Consent Manager"),await YA();let e=aE(),{prompt:t}=V;if(e===!1&&t&&t!==fe&&t!=="0"){let o=t==="auto"?1:+t;km(o,at?1/0:o)&&qr.autoShowConsentManager()}else at&&km();iE()&&Um(),e!==!1&&(e===""?qr.showConsentManager():qr.showConsentManager({viewState:e})),pP=!0,_T()},lP=()=>new Ne(async(e,t)=>{var o,r,n;if(ZR&&!FT()){await s(_t,Ns({url:ZR,name:"consent manager UI"}),t);let i;(n=(r=(o=P)==null?void 0:o.transcend)==null?void 0:r.ready)==null||n.call(r,a=>{var p;i||(i=!0,(p=a.setAuth)==null||p.call(a,Kc)),e()})}}),nP=!1,AC=()=>{if(nP)return;if(nP=!0,qT(),CR(),yT(),_A(P),nR(),oA(),QE(),h&&(Kt&&g.log("Consent partition:",Kt),g.log("Current tracking consent preferences",Ot().purposes),At&&g.log(`Quarantined requests expire after ${Hc} minutes.`),ys<1&&g.log(`Telemetry sample rate: ${ys} (${_u?"":"not "}sampling)`),En<1&&g.log(`Telemetry event sample rate: ${En}`)),Xe&&Op(P),at){let o=jS(Ni,+OE,+vE,+_E,bE,vi,+CE,+ys,+En);In=o.logRequestStats,qi=o.logCookieStats,Pm=o.logError}rd&&Ps&&Di&&je(jo)?(Vp=!0,h&&g.log.styled([vc,""],'All tracking purposes and unknown events are allowed. Event regulation disabled with %cdisable-when-consented="on"%c option')):Lo(P),P.transcend=qr;let{readyQueue:e=[]}=H||d(),t=ip;t.ready=o=>{o(t)},t.toggle=ZE,t.getMetadata=bR,t.getPurposes=(o,r=!0)=>ed(Pn({type:Ut,url:o},r)),t.getRequestPurposes=(o,r=!0)=>{let n=typeof o=="string"?d({type:Lr,url:o}):o;return ed(Lm(n)?n:Pn(n,r),!1)},t.getCookiePurposes=(o,r=!0)=>{let n=typeof o=="string"?ki(o):o;return ET(ad(n)?n:Ea(n,r),!1)},t.isAllowed=(o,r=!0)=>Tn(Pn({type:Ut,url:o},r),!1),t.isCookieAllowed=(o,r=!0)=>rp(ad(o)?o:Ea(o,r),!1),t.isRequestAllowed=(o,r=!0)=>Tn(Lm(o)?o:Pn(o,r),!1),t.getRegimePurposes=o=>tm(pp,o),t.getConsent=Ot,t.setConsent=Fp,t.setConsentMetadata=ER,t.optIn=PR,t.optOut=hR,t.isOptedIn=AR,t.isOptedOut=SR,t.getPurposeTypes=yR,t.getRegimes=()=>ue(Xo()),t.getPrivacySignals=()=>ue(gn()),t.override=rA,t.overrideCookies=XE,t.watch=sR,t.watchCookies=$E,t.activateCSP=An,t.protect=CS,t.reset=GS,t.resolve=nA,t.sync=lo,t.clear=HS,t.regulateAllScripts=BE,t.areAllScriptsRegulated=Es,t.export=DR,t.setPrompted=Zm,t.clearCookies=AT,t.clearDisallowedCookies=wr,t.version=ur,t.loadOptions=V,t.addEventListener=He,t.initialized=!0,ze(t,"status",{get:eT,configurable:!0,enumerable:!0}),fc&&mo(t),ze(P,"airgap",{value:t,configurable:!1,enumerable:!1}),e&&(h&&g.log("airgap.ready() queue = [",e,"]"),x(e,o=>{try{o(t)}catch(r){Ho(r)}}),nt(e)),gC||lP(),TC()};cP();
})()
})()